<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>データフレームを F# で扱う
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Easy to use .NET library for data manipulation and scientific programming">
    <meta name="author" content="BlueMountain Capital">

    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="/Deedle/ja/../content/style.css" />
    <link type="text/css" rel="stylesheet" href="/Deedle/ja/../content/deedle.css" />
    <script type="text/javascript" src="/Deedle/ja/../content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://fsharp.github.io/FSharp.Data"><img height="16" width="16" src="http://fsharp.org/images/thumbs/FSharp.Data.png" /> F# Data</a></li>
          <li><a href="http://bluemountaincapital.github.io/FSharpRProvider"><img height=" 16" width="16" src="http://fsharp.org/images/thumbs/FSharpRProvider.png" /> R Provider</a></li>
          <li><a href="http://fsharp.github.io/FSharp.Charting/"><img height="16" width="16" src="http://fsharp.org/images/thumbs/FSharp.Charting.png" /> F# Charting</a></li>
        </ul>
        <h3 class="muted"><a href="/Deedle/ja/index.html">Deedle</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1>データフレームを F# で扱う</h1>

<p>このセクションではF#データフレームライブラリの様々な機能を紹介します
(<code>Series</code> と <code>Frame</code> 型およびモジュールを使用します)。
任意のセクションに読み飛ばしてもらって構いませんが、
一部のセクションでは「作成および読み取り」で組み立てた値を参照している点に
注意してください。</p>

<p>また、このページをGitHubから
<a href="https://github.com/BlueMountainCapital/Deedle/blob/master/docs/content/frame.fsx">F# スクリプトファイル</a>
としてダウンロードすれば、インタラクティブにサンプルを実行することもできます。</p>

<a name="creating"></a>

<h2>フレームの作成とデータの読み取り</h2>

<a name="creating-csv"></a>

<h3>CSVファイルのロードとセーブ</h3>

<p>データをデータフレームとして取得する一番簡単な方法は
CVSファイルを使用することです。
この機能は <code>Frame.ReadCsv</code> 関数として用意されています：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// &#39;root&#39; ディレクトリにファイルが置かれているものとします</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">titanic</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">ReadCsv</span>(<span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">root</span> <span class="o">+</span> <span class="s">&quot;</span><span class="s">Titanic</span><span class="s">.</span><span class="s">csv</span><span class="s">&quot;</span>)

<span class="c">// データを読み取ってインデックス列を設定し、行を並び替えます</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">msft</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs2', 6)" onmouseover="showTip(event, 'fs2', 6)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 7)" onmouseover="showTip(event, 'fs3', 7)" class="i">ReadCsv</span>(<span onmouseout="hideTip(event, 'fs4', 8)" onmouseover="showTip(event, 'fs4', 8)" class="i">root</span> <span class="o">+</span> <span class="s">&quot;</span><span class="s">stocks</span><span class="s">/</span><span class="s">msft</span><span class="s">.</span><span class="s">csv</span><span class="s">&quot;</span>) 
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 9)" onmouseover="showTip(event, 'fs2', 9)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="i">indexRowsDate</span> <span class="s">&quot;</span><span class="s">Date</span><span class="s">&quot;</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 11)" onmouseover="showTip(event, 'fs2', 11)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="i">sortRowsByKey</span>

<span class="c">// 列区切り文字を指定します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="i">air</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 14)" onmouseover="showTip(event, 'fs2', 14)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 15)" onmouseover="showTip(event, 'fs3', 15)" class="i">ReadCsv</span>(<span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="i">root</span> <span class="o">+</span> <span class="s">&quot;</span><span class="s">AirQuality</span><span class="s">.</span><span class="s">csv</span><span class="s">&quot;</span>, <span class="i">separators</span><span class="o">=</span><span class="s">&quot;</span><span class="s">;</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table>

<p><code>ReadCsv</code> メソッドにはロード時の動作を制御するためのオプションが多数あります。
このメソッドはCSVファイルやTSVファイル、その他の形式のファイルをサポートします。
ファイル名が<code>tsv</code>で終わる場合には自動的にタブ文字が処理されますが、
<code>separator</code> 引数を明示的に指定して区切り文字を設定することもできます。
以下の引数が有効です：</p>

<ul>
<li><code>path</code> - リソースのファイル名またはWeb上の位置を指定します。</li>
<li><code>inferTypes</code> - メソッドが列の型を推測すべきかどうかを指定します。
(スキーマを指定する場合には<code>false</code>を指定します)</li>
<li><code>inferRows</code> - <code>interTypes=true</code> の場合、この引数には
型の推論に使用する行数を指定します。
デフォルトは0で、すべての行が使用されます。</li>
<li><code>schema</code> - CSVスキーマを指定する文字列です。
スキーマの形式については別途ドキュメントを参照してください。</li>
<li><code>separators</code> - CSVファイルの行を区切る1つ以上の(単一)文字を文字列として
指定します。
たとえば <code>";"</code> とするとセミコロン区切りのファイルとしてパースされます。</li>
<li><code>culture</code> - CVSファイルの値をパースする際に使用される
カルチャ(たとえば <code>"en-US"</code> )を指定します。
デフォルトはインバリアントカルチャです。</li>
</ul>

<p>これらの引数は
<a href="http://fsharp.github.io/FSharp.Data/library/CsvProvider.html">F# DataのCSV型プロバイダー</a>
(<a href="http://fsharp.github.io/FSharp.Data/ja/library/CsvProvider.html">日本語</a>)
で使用されるものと同じものなので、そちらのドキュメントも参照してください。</p>

<p>データフレームを取得した後は、 <code>SaveCsv</code> メソッドを使用して
CSVファイルとして保存できます。
たとえば以下のようにします：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// セミコロン区切りでCSVを保存します</span>
<span onmouseout="hideTip(event, 'fs8', 17)" onmouseover="showTip(event, 'fs8', 17)" class="i">air</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 18)" onmouseover="showTip(event, 'fs9', 18)" class="i">SaveCsv</span>(<span onmouseout="hideTip(event, 'fs10', 19)" onmouseover="showTip(event, 'fs10', 19)" class="i">Path</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 20)" onmouseover="showTip(event, 'fs11', 20)" class="i">GetTempFileName</span>(), <span class="i">separator</span><span class="o">=</span><span class="s">&#39;;&#39;</span>)
<span class="c">// 行キーを&quot;Date&quot;列として含むようなCSVファイルとして保存します</span>
<span onmouseout="hideTip(event, 'fs5', 21)" onmouseover="showTip(event, 'fs5', 21)" class="i">msft</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 22)" onmouseover="showTip(event, 'fs9', 22)" class="i">SaveCsv</span>(<span onmouseout="hideTip(event, 'fs10', 23)" onmouseover="showTip(event, 'fs10', 23)" class="i">Path</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 24)" onmouseover="showTip(event, 'fs11', 24)" class="i">GetTempFileName</span>(), <span class="i">keyNames</span><span class="o">=</span>[<span class="s">&quot;</span><span class="s">Date</span><span class="s">&quot;</span>], <span class="i">separator</span><span class="o">=</span><span class="s">&#39;\t&#39;</span>)</pre>
</td>
</tr>
</table>

<p>デフォルトでは <code>SaveCsv</code> メソッドはデータフレームのキーを含めません。
この動作は <code>SaveCsv</code> メソッドのオプション引数に <code>includeRowKeys=true</code> を指定するか、
(上の例のように) <code>keyNames</code> 引数に(複数の)キー列となるヘッダを設定します。
通常、行キーは1つだけですが、 <a href="#indexing">階層的インデックシング</a>
が使用されている場合には複数になることもあります。</p>

<a name="creating-recd"></a>

<h3>F#レコードまたは.NETオブジェクトのロード</h3>

<p>データをF#のレコード、C#の匿名型、あるいはその他の.NETオブジェクトとして返すような
.NETあるいはF#のコンポーネントを使用している場合には、
<code>Frame.ofRecords</code> を使用すればこれらをデータフレームに変換できます。
たとえば以下のデータがあるとします：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs12', 25)" onmouseover="showTip(event, 'fs12', 25)" class="i">Person</span> <span class="o">=</span> 
  { <span onmouseout="hideTip(event, 'fs13', 26)" onmouseover="showTip(event, 'fs13', 26)" class="i">Name</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="i">string</span>; <span onmouseout="hideTip(event, 'fs15', 28)" onmouseover="showTip(event, 'fs15', 28)" class="i">Age</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="i">int</span>; <span onmouseout="hideTip(event, 'fs17', 30)" onmouseover="showTip(event, 'fs17', 30)" class="i">Countries</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs14', 31)" onmouseover="showTip(event, 'fs14', 31)" class="i">string</span> <span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="i">list</span>; }

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="i">peopleRecds</span> <span class="o">=</span> 
  [ { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Joe</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">51</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">UK</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">UK</span><span class="s">&quot;</span>] }
    { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">28</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">CZ</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">UK</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">CZ</span><span class="s">&quot;</span> ] }
    { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Eve</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">2</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">FR</span><span class="s">&quot;</span> ] }
    { <span class="i">Name</span> <span class="o">=</span> <span class="s">&quot;</span><span class="s">Suzanne</span><span class="s">&quot;</span>; <span class="i">Age</span> <span class="o">=</span> <span class="n">15</span>; <span class="i">Countries</span> <span class="o">=</span> [ <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span> ] } ]</pre>
</td>
</tr>
</table>

<p>そうすると <code>Person</code> のプロパティと同じ型のデータを持った
3つの列(<code>Name</code> <code>Age</code> <code>Countries</code>)を含んだデータフレームを
簡単に作成できます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// レコードのリストをデータフレームに変換します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="i">peopleList</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 35)" onmouseover="showTip(event, 'fs2', 35)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="i">ofRecords</span> <span onmouseout="hideTip(event, 'fs19', 37)" onmouseover="showTip(event, 'fs19', 37)" class="i">peopleRecds</span>
<span class="c">// &#39;Name&#39; 列を(文字列型の)キーとして使用します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 38)" onmouseover="showTip(event, 'fs22', 38)" class="i">people</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 39)" onmouseover="showTip(event, 'fs20', 39)" class="i">peopleList</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 40)" onmouseover="showTip(event, 'fs2', 40)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 41)" onmouseover="showTip(event, 'fs23', 41)" class="i">indexRowsString</span> <span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span></pre>
</td>
</tr>
</table>

<p>なおここでは列データに対する変換は何も行われないことに注意してください。
数値的なシリーズは <code>?</code> 演算子を使用してアクセスできます。
その他の型の場合には適切な型引数を指定して
<code>GetColumn</code> を明示的に呼び出す必要があります：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs22', 42)" onmouseover="showTip(event, 'fs22', 42)" class="i">people</span><span class="o">?</span><span class="i">Age</span>
<span onmouseout="hideTip(event, 'fs22', 43)" onmouseover="showTip(event, 'fs22', 43)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 44)" onmouseover="showTip(event, 'fs24', 44)" class="i">GetColumn</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 45)" onmouseover="showTip(event, 'fs14', 45)" class="i">string</span> <span onmouseout="hideTip(event, 'fs18', 46)" onmouseover="showTip(event, 'fs18', 46)" class="i">list</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table>

<a name="creating-wb"></a>

<h3>F#データプロバイダ</h3>

<p>一般的にはデータをタプルのシリーズとして公開するような
任意のデータソースを使用できます。
つまり、<a href="https://github.com/fsharp/FSharp.Data">F# Dataライブラリ</a>
のWorld Bank型プロバイダーのような機能を使用すれば、
簡単にデータをロードできるというわけです。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// World Bankに接続します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs25', 47)" onmouseover="showTip(event, 'fs25', 47)" class="i">wb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 48)" onmouseover="showTip(event, 'fs26', 48)" class="i">WorldBankData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 49)" onmouseover="showTip(event, 'fs27', 49)" class="i">GetDataContext</span>()

<span class="c">/// 特定の地域に対して、GDPを現在のUSドルでロードし、</span>
<span class="c">/// 2レベルの列キー(地域と国名)を持ったフレームとしてデータを返します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 50)" onmouseover="showTip(event, 'fs28', 50)" class="i">loadRegion</span> (<span onmouseout="hideTip(event, 'fs29', 51)" onmouseover="showTip(event, 'fs29', 51)" class="i">region</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs26', 52)" onmouseover="showTip(event, 'fs26', 52)" class="i">WorldBankData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 53)" onmouseover="showTip(event, 'fs30', 53)" class="i">ServiceTypes</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 54)" onmouseover="showTip(event, 'fs31', 54)" class="i">Region</span>) <span class="o">=</span>
  [ <span class="k">for</span> <span onmouseout="hideTip(event, 'fs32', 55)" onmouseover="showTip(event, 'fs32', 55)" class="i">country</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs29', 56)" onmouseover="showTip(event, 'fs29', 56)" class="i">region</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 57)" onmouseover="showTip(event, 'fs33', 57)" class="i">Countries</span> <span class="k">-&gt;</span> 
      <span class="c">// タプルを使用して、2レベルの列キーを作成します</span>
      (<span onmouseout="hideTip(event, 'fs29', 58)" onmouseover="showTip(event, 'fs29', 58)" class="i">region</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 59)" onmouseover="showTip(event, 'fs34', 59)" class="i">Name</span>, <span onmouseout="hideTip(event, 'fs32', 60)" onmouseover="showTip(event, 'fs32', 60)" class="i">country</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 61)" onmouseover="showTip(event, 'fs35', 61)" class="i">Name</span>) <span class="o">=&gt;</span> 
        <span class="c">// WorldBankから返された複数のタプルからシリーズを作成します</span>
        <span onmouseout="hideTip(event, 'fs36', 62)" onmouseover="showTip(event, 'fs36', 62)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 63)" onmouseover="showTip(event, 'fs37', 63)" class="i">ofObservations</span> <span onmouseout="hideTip(event, 'fs32', 64)" onmouseover="showTip(event, 'fs32', 64)" class="i">country</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 65)" onmouseover="showTip(event, 'fs38', 65)" class="i">Indicators</span><span class="o">.</span><span class="i">``GDP (current US$)``</span> ]
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 66)" onmouseover="showTip(event, 'fs39', 66)" class="i">frame</span></pre>
</td>
</tr>
</table>

<p>データ処理をもっと簡単にするために、
地域毎の国情報を読み取って階層的インデックスを持ったデータフレームを作成しています
(詳細については<a href="#indexing">高度なインデックシングの節</a>を参照)。
これでOECDとユーロエリアのデータを簡単に読み取ることができるようになりました：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// ユーロとOECD地域をロード</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 67)" onmouseover="showTip(event, 'fs40', 67)" class="i">eu</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 68)" onmouseover="showTip(event, 'fs28', 68)" class="i">loadRegion</span> <span onmouseout="hideTip(event, 'fs25', 69)" onmouseover="showTip(event, 'fs25', 69)" class="i">wb</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 70)" onmouseover="showTip(event, 'fs41', 70)" class="i">Regions</span><span class="o">.</span><span class="i">``Euro area``</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 71)" onmouseover="showTip(event, 'fs42', 71)" class="i">oecd</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 72)" onmouseover="showTip(event, 'fs28', 72)" class="i">loadRegion</span> <span onmouseout="hideTip(event, 'fs25', 73)" onmouseover="showTip(event, 'fs25', 73)" class="i">wb</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 74)" onmouseover="showTip(event, 'fs41', 74)" class="i">Regions</span><span class="o">.</span><span class="i">``OECD members``</span>

<span class="c">// これらをジョインして、10億USドル単位に変換します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 75)" onmouseover="showTip(event, 'fs43', 75)" class="i">world</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 76)" onmouseover="showTip(event, 'fs40', 76)" class="i">eu</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 77)" onmouseover="showTip(event, 'fs44', 77)" class="i">Join</span>(<span onmouseout="hideTip(event, 'fs42', 78)" onmouseover="showTip(event, 'fs42', 78)" class="i">oecd</span>) <span class="o">/</span> <span class="n">1e9</span></pre>
</td>
</tr>
</table>

<div class="deedleframe">

<table>
<thead>
<tr class="header">
<th></th>
<th><p>(Euro area, Austria)</p></th>
<th><p>(Euro area, Belgium)</p></th>
<th><p>(Euro area, Cyprus)</p></th>
<th><p> ... </p></th>
<th><p>(OECD members, Sweden)</p></th>
<th><p>(OECD members, Turkey)</p></th>
<th><p>(OECD members, United States)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1960</p></td>
<td><p>6.59</p></td>
<td><p>11.66</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>14.84</p></td>
<td><p>14</p></td>
<td><p>520.53</p></td>
</tr>
<tr class="even">
<td><p>1961</p></td>
<td><p>7.31</p></td>
<td><p>12.4</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>16.15</p></td>
<td><p>8.02</p></td>
<td><p>539.05</p></td>
</tr>
<tr class="odd">
<td><p>1962</p></td>
<td><p>7.76</p></td>
<td><p>13.26</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>17.51</p></td>
<td><p>8.92</p></td>
<td><p>579.75</p></td>
</tr>
<tr class="even">
<td><p>1963</p></td>
<td><p>8.37</p></td>
<td><p>14.26</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>18.95</p></td>
<td><p>10.35</p></td>
<td><p>611.67</p></td>
</tr>
<tr class="odd">
<td><p>1964</p></td>
<td><p>9.17</p></td>
<td><p>15.96</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>21.14</p></td>
<td><p>11.17</p></td>
<td><p>656.91</p></td>
</tr>
<tr class="even">
<td><p>1965</p></td>
<td><p>9.99</p></td>
<td><p>17.37</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>23.26</p></td>
<td><p>11.95</p></td>
<td><p>712.08</p></td>
</tr>
<tr class="odd">
<td><p>1966</p></td>
<td><p>10.89</p></td>
<td><p>18.65</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>25.3</p></td>
<td><p>14.12</p></td>
<td><p>780.76</p></td>
</tr>
<tr class="even">
<td><p>1967</p></td>
<td><p>11.58</p></td>
<td><p>19.99</p></td>
<td><p>N/A</p></td>
<td><p> ... </p></td>
<td><p>27.46</p></td>
<td><p>15.66</p></td>
<td><p>825.06</p></td>
</tr>
<tr class="odd">
<td><p> ... </p></td>
<td><p> ... </p></td>
<td><p> ... </p></td>
<td><p> ... </p></td>
<td><p> ... </p></td>
<td><p> ... </p></td>
<td><p> ... </p></td>
<td><p> ... </p></td>
</tr>
<tr class="even">
<td><p>2009</p></td>
<td><p>383.73</p></td>
<td><p>473.25</p></td>
<td><p>23.54</p></td>
<td><p> ... </p></td>
<td><p>405.78</p></td>
<td><p>614.55</p></td>
<td><p>14417.9</p></td>
</tr>
<tr class="odd">
<td><p>2010</p></td>
<td><p>377.68</p></td>
<td><p>471.15</p></td>
<td><p>23.13</p></td>
<td><p> ... </p></td>
<td><p>462.9</p></td>
<td><p>731.14</p></td>
<td><p>14958.3</p></td>
</tr>
<tr class="even">
<td><p>2011</p></td>
<td><p>415.98</p></td>
<td><p>513.32</p></td>
<td><p>24.85</p></td>
<td><p> ... </p></td>
<td><p>536.29</p></td>
<td><p>774.78</p></td>
<td><p>15533.8</p></td>
</tr>
<tr class="odd">
<td><p>2012</p></td>
<td><p>394.45</p></td>
<td><p>482.95</p></td>
<td><p>22.77</p></td>
<td><p> ... </p></td>
<td><p>523.94</p></td>
<td><p>789.26</p></td>
<td><p>16244.6</p></td>
</tr>
</tbody>
</table>


</div>

<p>読み取ったデータはおよそ上のようになります。
見ての通り、列は地域によってグループ化され、一部のデータが値無しになっています。</p>

<h3>オブジェクトを列に展開する</h3>

<p>シリーズ内のメンバーとして他の.NETオブジェクトを含むようなデータフレームを
作成することもできます。
これはたとえば複数のデータソースから生成されたオブジェクトを取得して、
これらを処理する前にアラインまたは連結したいような場合に便利なことがあります。
しかし複雑な.NETオブジェクトを含むフレームの場合には、
逆に利便性が損なわれる場合もあります。</p>

<p>そのため、データフレームは<strong>展開(expansion)</strong>機能をサポートしています。
列に何かしらのオブジェクトを含んだデータフレームに対して
<code>Frame.expandCols</code>を使用すると、オブジェクトのプロパティそれぞれを新しい列として
含むような新しいフレームを作成できます。
たとえば以下のようにします：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// &#39;People&#39;という1列だけを持ったフレームを作成します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 79)" onmouseover="showTip(event, 'fs45', 79)" class="i">peopleNested</span> <span class="o">=</span> 
  [ <span class="s">&quot;</span><span class="s">People</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs36', 80)" onmouseover="showTip(event, 'fs36', 80)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 81)" onmouseover="showTip(event, 'fs46', 81)" class="i">ofValues</span> <span onmouseout="hideTip(event, 'fs19', 82)" onmouseover="showTip(event, 'fs19', 82)" class="i">peopleRecds</span> ] <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs39', 83)" onmouseover="showTip(event, 'fs39', 83)" class="i">frame</span>

<span class="c">// &#39;People&#39;列を展開します</span>
<span onmouseout="hideTip(event, 'fs45', 84)" onmouseover="showTip(event, 'fs45', 84)" class="i">peopleNested</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 85)" onmouseover="showTip(event, 'fs2', 85)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 86)" onmouseover="showTip(event, 'fs47', 86)" class="i">expandCols</span> [<span class="s">&quot;</span><span class="s">People</span><span class="s">&quot;</span>]</pre>
</td>
</tr>
</table>

<div class="deedleframe">

<table>
<thead>
<tr class="header">
<th></th>
<th><p>People.Name</p></th>
<th><p>People.Age</p></th>
<th><p>People.Countries</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>0</p></td>
<td><p>Joe</p></td>
<td><p>51</p></td>
<td><p>[UK; US; UK]</p></td>
</tr>
<tr class="even">
<td><p>1</p></td>
<td><p>Tomas</p></td>
<td><p>28</p></td>
<td><p>[CZ; UK; US; ... ]</p></td>
</tr>
<tr class="odd">
<td><p>2</p></td>
<td><p>Eve</p></td>
<td><p>2</p></td>
<td><p>[FR]</p></td>
</tr>
<tr class="even">
<td><p>3</p></td>
<td><p>Suzanne</p></td>
<td><p>15</p></td>
<td><p>[US]</p></td>
</tr>
</tbody>
</table>


</div>

<p>見ての通り、この操作では元の列の型に含まれるプロパティを元にして
複数の列が生成されて、それぞれの列の名前は
元の列の名前に各プロパティの名前を続けたものになります。</p>

<p>.NETオブジェクトだけでなく、<code>IDictionary&lt;K, V&gt;</code>型の値や
<code>string</code>をキーとするネストされたシリーズ(つまり<code>Series&lt;string, T&gt;</code>)
について展開することができます。
さらに複雑な構造をしている場合には、
<code>Frame.expandAllCols</code> を使用して特定のレベルまで再帰的に列を展開することもできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// タプルを含むディクショナリを含んだシリーズ</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 87)" onmouseover="showTip(event, 'fs48', 87)" class="i">tuples</span> <span class="o">=</span> 
  [ <span onmouseout="hideTip(event, 'fs49', 88)" onmouseover="showTip(event, 'fs49', 88)" class="i">dict</span> [<span class="s">&quot;</span><span class="s">A</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs50', 89)" onmouseover="showTip(event, 'fs50', 89)" class="i">box</span> <span class="n">1</span>; <span class="s">&quot;</span><span class="s">C</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs50', 90)" onmouseover="showTip(event, 'fs50', 90)" class="i">box</span> (<span class="n">2</span>, <span class="n">3</span>)]
    <span onmouseout="hideTip(event, 'fs49', 91)" onmouseover="showTip(event, 'fs49', 91)" class="i">dict</span> [<span class="s">&quot;</span><span class="s">B</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs50', 92)" onmouseover="showTip(event, 'fs50', 92)" class="i">box</span> <span class="n">1</span>; <span class="s">&quot;</span><span class="s">C</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs50', 93)" onmouseover="showTip(event, 'fs50', 93)" class="i">box</span> (<span class="n">3</span>, <span class="n">4</span>)] ] 
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 94)" onmouseover="showTip(event, 'fs36', 94)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 95)" onmouseover="showTip(event, 'fs46', 95)" class="i">ofValues</span>

<span class="c">// ディクショナリのキー(レベル1)とタプルのアイテム(レベル2)を展開</span>
<span onmouseout="hideTip(event, 'fs39', 96)" onmouseover="showTip(event, 'fs39', 96)" class="i">frame</span> [<span class="s">&quot;</span><span class="s">Tuples</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs48', 97)" onmouseover="showTip(event, 'fs48', 97)" class="i">tuples</span>]
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 98)" onmouseover="showTip(event, 'fs2', 98)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 99)" onmouseover="showTip(event, 'fs51', 99)" class="i">expandAllCols</span> <span class="n">2</span></pre>
</td>
</tr>
</table>

<p>この場合、結果のデータフレームには <code>Tuples.A</code> と <code>Tuples.B</code>、
さらにディレクトリ内にネストされたタプルの2つの項目を表す
<code>Tuples.C.Item1</code> と <code>Tuples.C.Item2</code> の列が含まれることになります。</p>

<a name="dataframe"></a>

<h2>データフレームの操作</h2>

<p>シリーズ型 <code>Series&lt;K, V&gt;</code> はシリーズのキーの型が <code>K</code> で
値の型が <code>V</code> であることを表しています。
つまりシリーズを処理する場合には、値の型があらかじめわかっているということです。
一方、データフレームの場合にはそうはいきません。
<code>Frame&lt;R, C&gt;</code> の <code>R</code> と <code>C</code> はそれぞれ行と列のインデックスの型を表します
(一般的に <code>R</code> は <code>int</code> または <code>DateTime</code> で、<code>C</code> は異なる行または列名を表す
<code>string</code> になります)。</p>

<p>フレームには多様なデータが含まれます。
ある列には整数、別の列には浮動小数点数、さらに別の列には文字列や日付、
あるいは文字列のリストのような別のオブジェクトが含まれることがあります。
これらの情報は静的にキャプチャされません。
したがってシリーズの読み取りなど、フレームを操作する場合には、
明示的に型を指定しなければいけないことがあります。</p>

<h3>フレームからデータを取得する</h3>

<p>ここでは <code>string</code> 型の <code>Name</code> と、<code>int</code> 型の <code>Age</code>、<code>string list</code> 型の <code>Countries</code>
という3つの列を持った <code>people</code> データフレームを使用します
(これは <a href="#creating-recd">先の節で</a> F#のレコードから作成したものです)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
           <span class="i">Name</span>    <span class="i">Age</span> <span class="i">Countries</span>
<span class="i">Joe</span>     <span class="k">-&gt;</span> <span class="i">Joe</span>     <span class="n">51</span>  [<span class="i">UK</span>; <span class="i">US</span>; <span class="i">UK</span>]
<span class="i">Tomas</span>   <span class="k">-&gt;</span> <span class="i">Tomas</span>   <span class="n">28</span>  [<span class="i">CZ</span>; <span class="i">UK</span>; <span class="i">US</span>; <span class="o">..</span><span class="o">.</span> ]
<span class="i">Eve</span>     <span class="k">-&gt;</span> <span class="i">Eve</span>     <span class="n">2</span>   [<span class="i">FR</span>]
<span class="i">Suzanne</span> <span class="k">-&gt;</span> <span class="i">Suzanne</span> <span class="n">15</span>  [<span class="i">US</span>]</pre>
</td>
</tr>
</table>

<p>フレーム <code>df</code> から列(シリーズ)を取得するには
データフレームで直接公開されている操作を使用するか、
<code>df.Columns</code> を使用してフレームのすべての列を
シリーズのシリーズとして取得することもできます。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// &#39;Age&#39; 列を &#39;float&#39; 値のシリーズとして取得します</span>
<span class="c">// (&#39;?&#39; 演算子が値を自動的に変換します)</span>
<span onmouseout="hideTip(event, 'fs22', 100)" onmouseover="showTip(event, 'fs22', 100)" class="i">people</span><span class="o">?</span><span class="i">Age</span>
<span class="c">// &#39;Name&#39; 列を &#39;string&#39; 値のシリーズとして取得します</span>
<span onmouseout="hideTip(event, 'fs22', 101)" onmouseover="showTip(event, 'fs22', 101)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 102)" onmouseover="showTip(event, 'fs24', 102)" class="i">GetColumn</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 103)" onmouseover="showTip(event, 'fs14', 103)" class="i">string</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span>)
<span class="c">// フレームのすべての列をシリーズのシリーズとして取得します</span>
<span onmouseout="hideTip(event, 'fs22', 104)" onmouseover="showTip(event, 'fs22', 104)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 105)" onmouseover="showTip(event, 'fs52', 105)" class="i">Columns</span></pre>
</td>
</tr>
</table>

<p><code>Series&lt;string, V&gt;</code> 型 は疑問符演算子をサポートしているため、
この型の <code>s</code> に対して <code>s?Foo</code> とすると、
キー <code>Foo</code> に関連づけられた型 <code>V</code> の値を取得できます。
それ以外の型を取得する場合には <code>Get</code> メソッドを使用します。
なおフレームの場合と異なり、明示的な変換は行われないことに注意してください：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// Series&lt;string, float&gt; を取得します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs53', 106)" onmouseover="showTip(event, 'fs53', 106)" class="i">numAges</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 107)" onmouseover="showTip(event, 'fs22', 107)" class="i">people</span><span class="o">?</span><span class="i">Age</span>

<span class="c">// 疑問符演算子を使用して値を取得します</span>
<span onmouseout="hideTip(event, 'fs53', 108)" onmouseover="showTip(event, 'fs53', 108)" class="i">numAges</span><span class="o">?</span><span class="i">Tomas</span>
<span class="c">// &#39;Get&#39; メソッドを使用して値を取得します</span>
<span onmouseout="hideTip(event, 'fs53', 109)" onmouseover="showTip(event, 'fs53', 109)" class="i">numAges</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 110)" onmouseover="showTip(event, 'fs54', 110)" class="i">Get</span>(<span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>)
<span class="c">// キーが見つからない場合には値無しを返します</span>
<span onmouseout="hideTip(event, 'fs53', 111)" onmouseover="showTip(event, 'fs53', 111)" class="i">numAges</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 112)" onmouseover="showTip(event, 'fs55', 112)" class="i">TryGet</span>(<span class="s">&quot;</span><span class="s">Fridrich</span><span class="s">&quot;</span>)</pre>
</td>
</tr>
</table>

<p>疑問符演算子と <code>Get</code> メソッドはデータフレームの
<code>Columns</code> プロパティに対しても使用できます。
<code>df?Columns</code> の返り値の型は ｀ColumnSeries<string, string><code>で、
これは単に</code>Series<C, ObjectSeries<R>><code>の薄いラッパーです。
つまり各列を表す</code>ObjectSeries<R><code>を値に持つような列の名前で
インデックスされたシリーズを取得しなおすことができるというわけです。
`ObjectSeries&lt;R&gt;` 型は</code>Series<R, obj>` の薄いラッパーで、
これは値を特定の型として取得できるような機能がいくつか追加されたものです。</p>

<p>今回の場合、返される値は <code>ObjectSeries&lt;string&gt;</code>
として表されるそれぞれの列になります：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// ObjectSeriesとして列を取得します</span>
<span onmouseout="hideTip(event, 'fs22', 113)" onmouseover="showTip(event, 'fs22', 113)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 114)" onmouseover="showTip(event, 'fs52', 114)" class="i">Columns</span><span class="o">?</span><span class="i">Age</span>
<span onmouseout="hideTip(event, 'fs22', 115)" onmouseover="showTip(event, 'fs22', 115)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 116)" onmouseover="showTip(event, 'fs52', 116)" class="i">Columns</span><span class="o">?</span><span class="i">Countries</span>
<span class="fsi">val it : ObjectSeries&lt;string&gt; =</span>
<span class="fsi">  Joe     -&gt; [UK; US; UK]       </span>
<span class="fsi">  Tomas   -&gt; [CZ; UK; US; ... ] </span>
<span class="fsi">  Eve     -&gt; [FR]               </span>
<span class="fsi">  Suzanne -&gt; [US]               </span>

<span class="c">// メンバーを使用して列の取得を試みます</span>
<span onmouseout="hideTip(event, 'fs22', 117)" onmouseover="showTip(event, 'fs22', 117)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 118)" onmouseover="showTip(event, 'fs52', 118)" class="i">Columns</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 119)" onmouseover="showTip(event, 'fs54', 119)" class="i">Get</span>(<span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span>)
<span onmouseout="hideTip(event, 'fs22', 120)" onmouseover="showTip(event, 'fs22', 120)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 121)" onmouseover="showTip(event, 'fs52', 121)" class="i">Columns</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 122)" onmouseover="showTip(event, 'fs55', 122)" class="i">TryGet</span>(<span class="s">&quot;</span><span class="s">CreditCard</span><span class="s">&quot;</span>)
<span class="c">// 特定のオフセットにある列を取得します</span>
<span onmouseout="hideTip(event, 'fs22', 123)" onmouseover="showTip(event, 'fs22', 123)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 124)" onmouseover="showTip(event, 'fs52', 124)" class="i">Columns</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 125)" onmouseover="showTip(event, 'fs56', 125)" class="i">GetAt</span>(<span class="n">0</span>)

<span class="c">// 列をObjectSeriesとして取得し、</span>
<span class="c">// それを型付きの Series&lt;string, string&gt; に変換します</span>
<span onmouseout="hideTip(event, 'fs22', 126)" onmouseover="showTip(event, 'fs22', 126)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 127)" onmouseover="showTip(event, 'fs52', 127)" class="i">Columns</span><span class="o">?</span><span class="i">Name</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 128)" onmouseover="showTip(event, 'fs57', 128)" class="i">As</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 129)" onmouseover="showTip(event, 'fs14', 129)" class="i">string</span><span class="o">&gt;</span>()
<span class="c">// 列をSeries&lt;string, int&gt;として変換するよう試みます</span>
<span onmouseout="hideTip(event, 'fs22', 130)" onmouseover="showTip(event, 'fs22', 130)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 131)" onmouseover="showTip(event, 'fs52', 131)" class="i">Columns</span><span class="o">?</span><span class="i">Name</span><span class="o">.</span><span class="i">TryAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs16', 132)" onmouseover="showTip(event, 'fs16', 132)" class="i">int</span><span class="o">&gt;</span>()</pre>
</td>
</tr>
</table>

<p><code>ObjectSeries&lt;string&gt;</code> 型には元の <code>Series&lt;K, V&gt;</code> 型に
若干のメソッドが追加されています。
18行目と20行目では <code>As&lt;T&gt;</code> と <code>TryAs&lt;T&gt;</code> を使用して、ObjectSeriesを
静的に既知の型を持った値のシリーズに変換しています。
18行目の式は <code>people.GetColumn&lt;string&gt;("Name")</code> という式と同じものですが、
<code>As&lt;T&gt;</code> の対象はフレームの行だけではありません。
データセットの行がいずれも同じ型の場合には、フレームの行に対して
(<code>people.Rows</code>を使用して)同じ操作ができます。</p>

<p><code>ObjectSeries&lt;T&gt;</code> を扱わなければならないケースはもう1つ、
行をマッピングする場合です：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 行を走査して、国リストの長さを取得します</span>
<span onmouseout="hideTip(event, 'fs22', 133)" onmouseover="showTip(event, 'fs22', 133)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 134)" onmouseover="showTip(event, 'fs58', 134)" class="i">Rows</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 135)" onmouseover="showTip(event, 'fs36', 135)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 136)" onmouseover="showTip(event, 'fs59', 136)" class="i">mapValues</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs60', 137)" onmouseover="showTip(event, 'fs60', 137)" class="i">row</span> <span class="k">-&gt;</span>
  <span onmouseout="hideTip(event, 'fs60', 138)" onmouseover="showTip(event, 'fs60', 138)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 139)" onmouseover="showTip(event, 'fs61', 139)" class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 140)" onmouseover="showTip(event, 'fs14', 140)" class="i">string</span> <span onmouseout="hideTip(event, 'fs18', 141)" onmouseover="showTip(event, 'fs18', 141)" class="i">list</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span>)<span class="o">.</span><span class="i">Length</span>)</pre>
</td>
</tr>
</table>

<p><code>people.Rows</code> から返された行は混種である(つまり異なる型の値が含まれている)ため、
シリーズのすべての値を <code>row.As&lt;T&gt;()</code> で何かしらの型に変換することはできません。
その代わり、 <code>Get(...)</code> と同じような <code>GetAs&lt;T&gt;(...)</code> を使用すると、
値を特定の型に変換して取得することができます。
<code>row?Countries</code> とすれば結果が <code>string list</code> にキャストされた状態で取得できますが、
<code>GetAs</code> メソッドにはもう1つ便利な文法があります。</p>

<h3>行および列の追加</h3>

<p>シリーズ型は <strong>不変</strong> なので、シリーズに新しい値を追加したり、
既存のシリーズに含まれる値を変更したりすることはできません。
しかし <code>Merge</code> のような機能を使用して、新しいシリーズを含むような結果を
返す操作を行うことはできます。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// さらに値を含んだシリーズを作成します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 142)" onmouseover="showTip(event, 'fs62', 142)" class="i">more</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs63', 143)" onmouseover="showTip(event, 'fs63', 143)" class="i">series</span> [ <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span class="n">48.0</span> ]
<span class="c">// シリーズが連結された新しいシリーズを作成します</span>
<span onmouseout="hideTip(event, 'fs22', 144)" onmouseover="showTip(event, 'fs22', 144)" class="i">people</span><span class="o">?</span><span class="i">Age</span><span class="o">.</span><span class="i">Merge</span>(<span onmouseout="hideTip(event, 'fs62', 145)" onmouseover="showTip(event, 'fs62', 145)" class="i">more</span>)</pre>
</td>
</tr>
</table>

<p>データフレームは非常に限定的に変更をサポートしています。
既存のデータフレームには(列として)新しいシリーズを追加したり、
削除あるいは置き換えたりすることもできます。
しかしシリーズそれぞれはやはり不変です。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// すべての人物の年齢を1つ増やします</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 146)" onmouseover="showTip(event, 'fs64', 146)" class="i">add1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 147)" onmouseover="showTip(event, 'fs22', 147)" class="i">people</span><span class="o">?</span><span class="i">Age</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 148)" onmouseover="showTip(event, 'fs36', 148)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 149)" onmouseover="showTip(event, 'fs59', 149)" class="i">mapValues</span> ((<span class="o">+</span>) <span class="n">1.0</span>)

<span class="c">// 新しいシリーズとしてフレームに追加します</span>
<span onmouseout="hideTip(event, 'fs22', 150)" onmouseover="showTip(event, 'fs22', 150)" class="i">people</span><span class="o">?</span><span class="i">AgePlusOne</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs64', 151)" onmouseover="showTip(event, 'fs64', 151)" class="i">add1</span>

<span class="c">// 値のリストを使用して新しいシリーズを追加します</span>
<span onmouseout="hideTip(event, 'fs22', 152)" onmouseover="showTip(event, 'fs22', 152)" class="i">people</span><span class="o">?</span><span class="i">Siblings</span> <span class="o">&lt;-</span> [<span class="n">0</span>; <span class="n">2</span>; <span class="n">1</span>; <span class="n">3</span>]

<span class="c">// 既存のシリーズを新しい値に置き換えます</span>
<span class="c">// (people?Siblings &lt;- ... と同じです)</span>
<span onmouseout="hideTip(event, 'fs22', 153)" onmouseover="showTip(event, 'fs22', 153)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs65', 154)" onmouseover="showTip(event, 'fs65', 154)" class="i">ReplaceColumn</span>(<span class="s">&quot;</span><span class="s">Siblings</span><span class="s">&quot;</span>, [<span class="n">3</span>; <span class="n">2</span>; <span class="n">1</span>; <span class="n">0</span>])</pre>
</td>
</tr>
</table>

<p>最後に、既存のデータフレームに1つのデータフレーム、
あるいは1つの行を追加することも可能です。
この操作も不変なので、行が追加された新しいデータフレームが返されることになります。
データフレーム用の新しい行を作成するには、
キー値ペアからシリーズを作成する標準的な方法か、
あるいは <code>SeriesBuilder</code> 型を使用することもできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 必須の列に対応する値を持った新しいシリーズオブジェクトを作成します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 155)" onmouseover="showTip(event, 'fs66', 155)" class="i">newRow</span> <span class="o">=</span> 
  [ <span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs50', 156)" onmouseover="showTip(event, 'fs50', 156)" class="i">box</span> <span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">Age</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs50', 157)" onmouseover="showTip(event, 'fs50', 157)" class="i">box</span> <span class="n">51</span>;
    <span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs50', 158)" onmouseover="showTip(event, 'fs50', 158)" class="i">box</span> [<span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>]; <span class="s">&quot;</span><span class="s">Siblings</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs50', 159)" onmouseover="showTip(event, 'fs50', 159)" class="i">box</span> <span class="n">5</span> ]
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs63', 160)" onmouseover="showTip(event, 'fs63', 160)" class="i">series</span>
<span class="c">// 新しいシリーズを含んだ新しいデータフレームを作成します</span>
<span onmouseout="hideTip(event, 'fs22', 161)" onmouseover="showTip(event, 'fs22', 161)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 162)" onmouseover="showTip(event, 'fs67', 162)" class="i">Merge</span>(<span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs66', 163)" onmouseover="showTip(event, 'fs66', 163)" class="i">newRow</span>)

<span class="c">// 可変なSeriesBuilderオブジェクトを使用することもできます</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 164)" onmouseover="showTip(event, 'fs68', 164)" class="i">otherRow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs69', 165)" onmouseover="showTip(event, 'fs69', 165)" class="i">SeriesBuilder</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 166)" onmouseover="showTip(event, 'fs14', 166)" class="i">string</span><span class="o">&gt;</span>()
<span onmouseout="hideTip(event, 'fs68', 167)" onmouseover="showTip(event, 'fs68', 167)" class="i">otherRow</span><span class="o">?</span><span class="i">Name</span> <span class="o">&lt;-</span> <span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>
<span onmouseout="hideTip(event, 'fs68', 168)" onmouseover="showTip(event, 'fs68', 168)" class="i">otherRow</span><span class="o">?</span><span class="i">Age</span> <span class="o">&lt;-</span> <span class="n">51</span>
<span onmouseout="hideTip(event, 'fs68', 169)" onmouseover="showTip(event, 'fs68', 169)" class="i">otherRow</span><span class="o">?</span><span class="i">Countries</span> <span class="o">&lt;-</span> [<span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>]
<span onmouseout="hideTip(event, 'fs68', 170)" onmouseover="showTip(event, 'fs68', 170)" class="i">otherRow</span><span class="o">?</span><span class="i">Siblings</span> <span class="o">&lt;-</span> <span class="n">5</span>
<span class="c">// 組み立てたシリーズはSeriesプロパティで取得できます</span>
<span onmouseout="hideTip(event, 'fs22', 171)" onmouseover="showTip(event, 'fs22', 171)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 172)" onmouseover="showTip(event, 'fs67', 172)" class="i">Merge</span>(<span class="s">&quot;</span><span class="s">Jim</span><span class="s">&quot;</span>, <span onmouseout="hideTip(event, 'fs68', 173)" onmouseover="showTip(event, 'fs68', 173)" class="i">otherRow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 174)" onmouseover="showTip(event, 'fs70', 174)" class="i">Series</span>)</pre>
</td>
</tr>
</table>

<a name="slicing"></a>

<h2>高度なスライシングおよびルックアップ</h2>

<p>特定のシリーズからは多数の方法で1つ以上の値を取得したり、
(複数キーや関連する複数の値などの)観測データを取得したりできます。
まず(順序づけられていないシリーズも含む)任意のデータを
対象にできる差分ルックアップ操作について説明します。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 異なるキーと値を持ったサンプル用のシリーズ</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 175)" onmouseover="showTip(event, 'fs71', 175)" class="i">nums</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs63', 176)" onmouseover="showTip(event, 'fs63', 176)" class="i">series</span> [ <span class="n">1</span> <span class="o">=&gt;</span> <span class="n">10.0</span>; <span class="n">2</span> <span class="o">=&gt;</span> <span class="n">20.0</span> ]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 177)" onmouseover="showTip(event, 'fs72', 177)" class="i">strs</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs63', 178)" onmouseover="showTip(event, 'fs63', 178)" class="i">series</span> [ <span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span class="s">&quot;</span><span class="s">Hi</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">cz</span><span class="s">&quot;</span> <span class="o">=&gt;</span> <span class="s">&quot;</span><span class="s">Ahoj</span><span class="s">&quot;</span> ]

<span class="c">// キーを使用して値を検索します</span>
<span onmouseout="hideTip(event, 'fs71', 179)" onmouseover="showTip(event, 'fs71', 179)" class="i">nums</span><span class="o">.</span>[<span class="n">1</span>]
<span onmouseout="hideTip(event, 'fs72', 180)" onmouseover="showTip(event, 'fs72', 180)" class="i">strs</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">en</span><span class="s">&quot;</span>]
<span class="c">// キーが文字列の場合には以下のようにアクセスできます</span>
<span onmouseout="hideTip(event, 'fs72', 181)" onmouseover="showTip(event, 'fs72', 181)" class="i">strs</span><span class="o">?</span><span class="i">en</span></pre>
</td>
</tr>
</table>

<p>さらなる例として、<a href="#creating-recd">前の例で作成したデータセット</a> 
の <code>Age</code> 列を使用します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 順序づけられていないサンプルのシリーズを取得します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 182)" onmouseover="showTip(event, 'fs73', 182)" class="i">ages</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 183)" onmouseover="showTip(event, 'fs22', 183)" class="i">people</span><span class="o">?</span><span class="i">Age</span>

<span class="c">// 特定のキーに対応する値を取得します</span>
<span onmouseout="hideTip(event, 'fs73', 184)" onmouseover="showTip(event, 'fs73', 184)" class="i">ages</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>]
<span class="c">// データソースから2つのキーを指定してシリーズを取得します</span>
<span onmouseout="hideTip(event, 'fs73', 185)" onmouseover="showTip(event, 'fs73', 185)" class="i">ages</span><span class="o">.</span>[ [<span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">Joe</span><span class="s">&quot;</span>] ]</pre>
</td>
</tr>
</table>

<p><code>Series</code> モジュールには便利な関数が他にも用意されています
(たとえば <code>ages.TryGet</code> のように、多くはメンバーメソッドとしても
呼び出すことが出来ます)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// キーが存在しない場合には失敗します</span>
<span class="k">try</span> <span onmouseout="hideTip(event, 'fs73', 186)" onmouseover="showTip(event, 'fs73', 186)" class="i">ages</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 187)" onmouseover="showTip(event, 'fs36', 187)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 188)" onmouseover="showTip(event, 'fs74', 188)" class="i">get</span> <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span> <span class="k">with</span> _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs75', 189)" onmouseover="showTip(event, 'fs75', 189)" class="i">nan</span>
<span class="c">// キーが存在志ない場合には&#39;None&#39;が返ります</span>
<span onmouseout="hideTip(event, 'fs73', 190)" onmouseover="showTip(event, 'fs73', 190)" class="i">ages</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 191)" onmouseover="showTip(event, 'fs36', 191)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs76', 192)" onmouseover="showTip(event, 'fs76', 192)" class="i">tryGet</span> <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span>
<span class="c">// &#39;John&#39; の値を除いたシリーズが返ります</span>
<span class="c">// (&#39;ages.[ [&quot;Tomas&quot;; &quot;John&quot;] ]&#39; と同じです)</span>
<span onmouseout="hideTip(event, 'fs73', 193)" onmouseover="showTip(event, 'fs73', 193)" class="i">ages</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 194)" onmouseover="showTip(event, 'fs36', 194)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs77', 195)" onmouseover="showTip(event, 'fs77', 195)" class="i">getAll</span> [ <span class="s">&quot;</span><span class="s">Tomas</span><span class="s">&quot;</span>; <span class="s">&quot;</span><span class="s">John</span><span class="s">&quot;</span> ]</pre>
</td>
</tr>
</table>

<p>シリーズからすべてのデータを取得することもできます。
データフレームライブラリではすべてのキー値ペアのことを
<strong>observations(観測値)</strong> と呼んでいます。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// すべてのobservationsを&#39;KeyValuePair&#39;のシーケンスとして取得します</span>
<span onmouseout="hideTip(event, 'fs73', 196)" onmouseover="showTip(event, 'fs73', 196)" class="i">ages</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 197)" onmouseover="showTip(event, 'fs78', 197)" class="i">Observations</span>
<span class="c">// すべてのobservationsをタプルのシーケンスとして取得します</span>
<span onmouseout="hideTip(event, 'fs73', 198)" onmouseover="showTip(event, 'fs73', 198)" class="i">ages</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 199)" onmouseover="showTip(event, 'fs36', 199)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 200)" onmouseover="showTip(event, 'fs79', 200)" class="i">observations</span>
<span class="c">// 値無しに対しては&#39;None&#39;となるようにしてすべてのobservationsを取得します</span>
<span onmouseout="hideTip(event, 'fs73', 201)" onmouseover="showTip(event, 'fs73', 201)" class="i">ages</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 202)" onmouseover="showTip(event, 'fs36', 202)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 203)" onmouseover="showTip(event, 'fs80', 203)" class="i">observationsAll</span></pre>
</td>
</tr>
</table>

<p>これまでの例ではいずれもキーを厳密に指定して検索を行っていました。
順序付きシリーズの場合には、最も近くで利用可能なキーを使用して検索をしたり、
スライシングしたりすることができます。
<a href="#creating-csv">先の例で作成した</a> MSFTの株価データで試してみましょう：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 始値をシリーズとして取得します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 204)" onmouseover="showTip(event, 'fs81', 204)" class="i">opens</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 205)" onmouseover="showTip(event, 'fs5', 205)" class="i">msft</span><span class="o">?</span><span class="i">Open</span>

<span class="c">// キーがシリーズ内に無いため失敗します</span>
<span class="k">try</span> <span onmouseout="hideTip(event, 'fs81', 206)" onmouseover="showTip(event, 'fs81', 206)" class="i">opens</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs82', 207)" onmouseover="showTip(event, 'fs82', 207)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>)] <span class="k">with</span> <span onmouseout="hideTip(event, 'fs83', 208)" onmouseover="showTip(event, 'fs83', 208)" class="i">e</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs75', 209)" onmouseover="showTip(event, 'fs75', 209)" class="i">nan</span>
<span class="c">// 最も近い大きな値をキーにして値を探すため正しく動作します</span>
<span onmouseout="hideTip(event, 'fs81', 210)" onmouseover="showTip(event, 'fs81', 210)" class="i">opens</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 211)" onmouseover="showTip(event, 'fs54', 211)" class="i">Get</span>(<span onmouseout="hideTip(event, 'fs82', 212)" onmouseover="showTip(event, 'fs82', 212)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>), <span onmouseout="hideTip(event, 'fs84', 213)" onmouseover="showTip(event, 'fs84', 213)" class="i">Lookup</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 214)" onmouseover="showTip(event, 'fs85', 214)" class="i">ExactOrSmaller</span>)
<span class="c">// 最も近い小さな値をキーにして値を探すため正しく動作します</span>
<span onmouseout="hideTip(event, 'fs81', 215)" onmouseover="showTip(event, 'fs81', 215)" class="i">opens</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 216)" onmouseover="showTip(event, 'fs54', 216)" class="i">Get</span>(<span onmouseout="hideTip(event, 'fs82', 217)" onmouseover="showTip(event, 'fs82', 217)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>), <span onmouseout="hideTip(event, 'fs84', 218)" onmouseover="showTip(event, 'fs84', 218)" class="i">Lookup</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 219)" onmouseover="showTip(event, 'fs85', 219)" class="i">ExactOrSmaller</span>)</pre>
</td>
</tr>
</table>

<p>インスタンスのメンバーを使用する場合、
<code>Lookup</code> を引数にとる <code>Get</code> メソッドのオーバーロードが使用できます。
同じ機能が <code>Series.lookup</code> として定義されています。
キーのシーケンスに対応する値を取得することもできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 最も近い大きなキーに対する値を取得します</span>
<span onmouseout="hideTip(event, 'fs81', 220)" onmouseover="showTip(event, 'fs81', 220)" class="i">opens</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 221)" onmouseover="showTip(event, 'fs36', 221)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs86', 222)" onmouseover="showTip(event, 'fs86', 222)" class="i">lookup</span> (<span onmouseout="hideTip(event, 'fs82', 223)" onmouseover="showTip(event, 'fs82', 223)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>)) <span onmouseout="hideTip(event, 'fs84', 224)" onmouseover="showTip(event, 'fs84', 224)" class="i">Lookup</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 225)" onmouseover="showTip(event, 'fs87', 225)" class="i">ExactOrGreater</span>

<span class="c">// 2012年の各月における1つめの価格を取得します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs88', 226)" onmouseover="showTip(event, 'fs88', 226)" class="i">dates</span> <span class="o">=</span> [ <span class="k">for</span> <span onmouseout="hideTip(event, 'fs89', 227)" onmouseover="showTip(event, 'fs89', 227)" class="i">m</span> <span class="k">in</span> <span class="n">1</span> <span class="o">..</span> <span class="n">12</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs82', 228)" onmouseover="showTip(event, 'fs82', 228)" class="i">DateTime</span>(<span class="n">2012</span>, <span onmouseout="hideTip(event, 'fs89', 229)" onmouseover="showTip(event, 'fs89', 229)" class="i">m</span>, <span class="n">1</span>) ]
<span onmouseout="hideTip(event, 'fs81', 230)" onmouseover="showTip(event, 'fs81', 230)" class="i">opens</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 231)" onmouseover="showTip(event, 'fs36', 231)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs90', 232)" onmouseover="showTip(event, 'fs90', 232)" class="i">lookupAll</span> <span onmouseout="hideTip(event, 'fs88', 233)" onmouseover="showTip(event, 'fs88', 233)" class="i">dates</span> <span onmouseout="hideTip(event, 'fs84', 234)" onmouseover="showTip(event, 'fs84', 234)" class="i">Lookup</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 235)" onmouseover="showTip(event, 'fs87', 235)" class="i">ExactOrGreater</span></pre>
</td>
</tr>
</table>

<p>順序付きシリーズに対しては、スライシングによって
シリーズの部分区間を取得することもできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs81', 236)" onmouseover="showTip(event, 'fs81', 236)" class="i">opens</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs82', 237)" onmouseover="showTip(event, 'fs82', 237)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">1</span>) <span class="o">..</span> <span onmouseout="hideTip(event, 'fs82', 238)" onmouseover="showTip(event, 'fs82', 238)" class="i">DateTime</span>(<span class="n">2013</span>, <span class="n">1</span>, <span class="n">31</span>)]
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 239)" onmouseover="showTip(event, 'fs36', 239)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs91', 240)" onmouseover="showTip(event, 'fs91', 240)" class="i">mapKeys</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs92', 241)" onmouseover="showTip(event, 'fs92', 241)" class="i">k</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs92', 242)" onmouseover="showTip(event, 'fs92', 242)" class="i">k</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 243)" onmouseover="showTip(event, 'fs93', 243)" class="i">ToShortDateString</span>())</pre>
</td>
</tr>
</table>

<div class="deedleseries">

<table>
<thead>
<tr class="header">
<th><p>Keys</p></th>
<th><p>2013/01/02</p></th>
<th><p>2013/01/03</p></th>
<th><p>2013/01/04</p></th>
<th><p>2013/01/07</p></th>
<th><p>2013/01/08</p></th>
<th><p> ... </p></th>
<th><p>2013/01/29</p></th>
<th><p>2013/01/30</p></th>
<th><p>2013/01/31</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Values</p></td>
<td><p>27.25</p></td>
<td><p>27.63</p></td>
<td><p>27.27</p></td>
<td><p>26.77</p></td>
<td><p>26.75</p></td>
<td><p> ... </p></td>
<td><p>27.82</p></td>
<td><p>28.01</p></td>
<td><p>27.79</p></td>
</tr>
</tbody>
</table>


</div>

<p>スライシングはシリーズのキーが利用できない場合であっても機能します。
ルックアップ時には上限(最も近い上方の値のうち、最も小さい値)
および下限(最も近い下方の値のうち、最も大きい値)が自動的に使用されます
(今回の場合、1月1日に対応する値はありません)。</p>

<p><a href="#indexing">後の節</a> で説明しますが、
階層的(あるいはマルチレベル)インデックスを使用している場合には
まだいくつかの方法があります。
しかしまずはグループ化について説明する必要があるでしょう。</p>

<a name="grouping"></a>

<h2>データのグループ化</h2>

<p>データのグループ化は順序付きのシリーズやフレーム、順序無しのシリーズやフレームの
いずれに対しても行うことができます。
順序付きシリーズを対象とする場合には
(フローティングウィンドウや連続要素のグループ化など)
固有の機能を利用できます。
詳細については <a href="series.html">時系列データのチュートリアル</a> を参照してください。
基本的には2つの機能があります：</p>

<ul>
<li><p>任意の値のシリーズをグループ化して、(それぞれのグループを)
シリーズのシリーズとして取得できます
<code>Frame.ofColumns</code> あるいは <code>Frame.ofRows</code> を使用することにより、
結果を簡単にデータフレームへと変換できますが、この処理は自動的には行われません。</p></li>
<li><p>特定の列に含まれる値、あるいは関数を使用してフレーム行をグループ化できます。
この場合にはマルチレベル(階層的)インデックスを持ったフレームが返されます。
階層的インデックスについては <a href="#indexing">後ほど説明します</a>。</p></li>
</ul>

<p>データフレームに対して <code>df.Rows</code> あるいは <code>df.Columns</code> とすれば
簡単に行シリーズ、あるいは列シリーズが取得できるわけなので、
データフレームに対する1番目の機能は特に有用だということを覚えておいてください。</p>

<h3>シリーズのグループ化</h3>

<p>以下のサンプルでは、 <a href="#creating-recd">先のセクション</a> でF#のレコードから
ロードしたデータフレーム <code>people</code> を使用しています。
まずデータを取得します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 244)" onmouseover="showTip(event, 'fs94', 244)" class="i">travels</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 245)" onmouseover="showTip(event, 'fs22', 245)" class="i">people</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 246)" onmouseover="showTip(event, 'fs24', 246)" class="i">GetColumn</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 247)" onmouseover="showTip(event, 'fs14', 247)" class="i">string</span> <span onmouseout="hideTip(event, 'fs18', 248)" onmouseover="showTip(event, 'fs18', 248)" class="i">list</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Countries</span><span class="s">&quot;</span>)
<span class="fsi">val travels : Series&lt;string,string list&gt; =</span>
<span class="fsi">  Joe     -&gt; [UK; US; UK]       </span>
<span class="fsi">  Tomas   -&gt; [CZ; UK; US; ... ] </span>
<span class="fsi">  Eve     -&gt; [FR]               </span>
<span class="fsi">  Suzanne -&gt; [US]               </span></pre>
</td>
</tr>
</table>

<p>そうすると、キー(例：名前の長さ) と値(行ったことがある国の数)の
両方を使用して要素を取得することができます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 名前の長さでグループ化 (行ったことがある国は無視)</span>
<span onmouseout="hideTip(event, 'fs94', 249)" onmouseover="showTip(event, 'fs94', 249)" class="i">travels</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 250)" onmouseover="showTip(event, 'fs36', 250)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs95', 251)" onmouseover="showTip(event, 'fs95', 251)" class="i">groupBy</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs96', 252)" onmouseover="showTip(event, 'fs96', 252)" class="i">k</span> <span onmouseout="hideTip(event, 'fs97', 253)" onmouseover="showTip(event, 'fs97', 253)" class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs96', 254)" onmouseover="showTip(event, 'fs96', 254)" class="i">k</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 255)" onmouseover="showTip(event, 'fs98', 255)" class="i">Length</span>)
<span class="c">// 行ったことがある国の数 (USに行ったことがある/無い人)</span>
<span onmouseout="hideTip(event, 'fs94', 256)" onmouseover="showTip(event, 'fs94', 256)" class="i">travels</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 257)" onmouseover="showTip(event, 'fs36', 257)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs95', 258)" onmouseover="showTip(event, 'fs95', 258)" class="i">groupBy</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs96', 259)" onmouseover="showTip(event, 'fs96', 259)" class="i">k</span> <span onmouseout="hideTip(event, 'fs97', 260)" onmouseover="showTip(event, 'fs97', 260)" class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs99', 261)" onmouseover="showTip(event, 'fs99', 261)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs100', 262)" onmouseover="showTip(event, 'fs100', 262)" class="i">exists</span> ((<span class="o">=</span>) <span class="s">&quot;</span><span class="s">US</span><span class="s">&quot;</span>) <span onmouseout="hideTip(event, 'fs97', 263)" onmouseover="showTip(event, 'fs97', 263)" class="i">v</span>)

<span class="c">// 名前の長さでグループ化して各グループの値の個数を取得します</span>
<span onmouseout="hideTip(event, 'fs94', 264)" onmouseover="showTip(event, 'fs94', 264)" class="i">travels</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 265)" onmouseover="showTip(event, 'fs36', 265)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs101', 266)" onmouseover="showTip(event, 'fs101', 266)" class="i">groupInto</span> 
  (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs96', 267)" onmouseover="showTip(event, 'fs96', 267)" class="i">k</span> <span onmouseout="hideTip(event, 'fs97', 268)" onmouseover="showTip(event, 'fs97', 268)" class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs96', 269)" onmouseover="showTip(event, 'fs96', 269)" class="i">k</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs98', 270)" onmouseover="showTip(event, 'fs98', 270)" class="i">Length</span>) 
  (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs102', 271)" onmouseover="showTip(event, 'fs102', 271)" class="i">len</span> <span onmouseout="hideTip(event, 'fs103', 272)" onmouseover="showTip(event, 'fs103', 272)" class="i">people</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs36', 273)" onmouseover="showTip(event, 'fs36', 273)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs104', 274)" onmouseover="showTip(event, 'fs104', 274)" class="i">countKeys</span> <span onmouseout="hideTip(event, 'fs103', 275)" onmouseover="showTip(event, 'fs103', 275)" class="i">people</span>)</pre>
</td>
</tr>
</table>

<p><code>groupBy</code> 関数はシリーズのシリーズを返します(新しいキーを持ち、
特定の新しいキーに対するすべての値を含んだシリーズを値とします)。
そして <code>Series.mapValues</code> を使用すると値を変形させることができます。
しかし間でシリーズを全く確保したくないという場合には、
<code>Series.groupInto</code> を使用できます。
この関数の2番目の引数には射影関数を指定します。
上の例の場合には各グループのキーの数をカウントしています。</p>

<p>最後の例として、(行として)それぞれの人物と、
(列として)誰かしらが行ったことのある国を含むデータフレームを組み立ててみましょう。
フレームにはそれぞれの人物が行ったことのある国の数が含まれるようにします：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs94', 276)" onmouseover="showTip(event, 'fs94', 276)" class="i">travels</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 277)" onmouseover="showTip(event, 'fs36', 277)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 278)" onmouseover="showTip(event, 'fs59', 278)" class="i">mapValues</span> (<span onmouseout="hideTip(event, 'fs105', 279)" onmouseover="showTip(event, 'fs105', 279)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs106', 280)" onmouseover="showTip(event, 'fs106', 280)" class="i">countBy</span> <span onmouseout="hideTip(event, 'fs107', 281)" onmouseover="showTip(event, 'fs107', 281)" class="i">id</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs63', 282)" onmouseover="showTip(event, 'fs63', 282)" class="i">series</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 283)" onmouseover="showTip(event, 'fs2', 283)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 284)" onmouseover="showTip(event, 'fs108', 284)" class="i">ofRows</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 285)" onmouseover="showTip(event, 'fs2', 285)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs109', 286)" onmouseover="showTip(event, 'fs109', 286)" class="i">fillMissingWith</span> <span class="n">0</span></pre>
</td>
</tr>
</table>

<div class="deedleframe">

<table>
<thead>
<tr class="header">
<th></th>
<th><p>UK</p></th>
<th><p>US</p></th>
<th><p>CZ</p></th>
<th><p>FR</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Joe</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="even">
<td><p>Tomas</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>0</p></td>
</tr>
<tr class="odd">
<td><p>Eve</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="even">
<td><p>Suzanne</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>


</div>

<p>この問題は <code>Series.mapValues</code> とF#の標準的な <code>Seq</code> 関数を
組み合わせるだけで解決できます。
まずすべての行(人物および行ったことのある国リスト)を走査します。
そしてそれぞれの国リストに対して、各国と訪問数を含むようなシリーズを生成します
(<code>Seq.countBy</code> と <code>series</code> を組み合わせることで観測データのシリーズを組み立てます)。
それからこの結果をデータフレームへと変換して、
値無しのデータを定数値0で置き換えています
(<a href="#missing">値無しへの対処</a>を参照してください)。</p>

<h3>データフレームのグループ化</h3>

<p>これまではシリーズやシリーズのシリーズを対象にしてきました
(シリーズのシリーズは <code>Frame.ofRows</code> や <code>Frame.ofColumns</code> で
データフレームに変換できます)。
次に、データフレームを対象とする方法を説明しましょう。</p>

<p>ここでは <a href="index.html">プロジェクトのホームページ</a> でも使用している、
<a href="http://www.kaggle.com/c/titanic-gettingStarted">タイタニック号のデータセット</a>
が読み取り済みであるとします。
まず基本的なグループ化を紹介します(ホームページのデモでも使用しているものです)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// &#39;string&#39;型の列&#39;Sex&#39;でグループ化</span>
<span onmouseout="hideTip(event, 'fs1', 287)" onmouseover="showTip(event, 'fs1', 287)" class="i">titanic</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 288)" onmouseover="showTip(event, 'fs2', 288)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 289)" onmouseover="showTip(event, 'fs110', 289)" class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span>

<span class="c">// &#39;decimal&#39;に変換された列でグループ化</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 290)" onmouseover="showTip(event, 'fs111', 290)" class="i">byDecimal</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs2', 291)" onmouseover="showTip(event, 'fs2', 291)" class="i">Frame</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs112', 292)" onmouseover="showTip(event, 'fs112', 292)" class="i">decimal</span> <span class="o">*</span> _, _<span class="o">&gt;</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs1', 293)" onmouseover="showTip(event, 'fs1', 293)" class="i">titanic</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 294)" onmouseover="showTip(event, 'fs2', 294)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs113', 295)" onmouseover="showTip(event, 'fs113', 295)" class="i">groupRowsBy</span> <span class="s">&quot;</span><span class="s">Fare</span><span class="s">&quot;</span>

<span class="c">// これはメンバーメソッドを使用すれば簡単に記述できます</span>
<span onmouseout="hideTip(event, 'fs1', 296)" onmouseover="showTip(event, 'fs1', 296)" class="i">titanic</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs114', 297)" onmouseover="showTip(event, 'fs114', 297)" class="i">GroupRowsBy</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs112', 298)" onmouseover="showTip(event, 'fs112', 298)" class="i">decimal</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Fare</span><span class="s">&quot;</span>)

<span class="c">// 計算値(名前の長さ)でグループ化</span>
<span onmouseout="hideTip(event, 'fs1', 299)" onmouseover="showTip(event, 'fs1', 299)" class="i">titanic</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 300)" onmouseover="showTip(event, 'fs2', 300)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs115', 301)" onmouseover="showTip(event, 'fs115', 301)" class="i">groupRowsUsing</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 302)" onmouseover="showTip(event, 'fs116', 302)" class="i">k</span> <span onmouseout="hideTip(event, 'fs60', 303)" onmouseover="showTip(event, 'fs60', 303)" class="i">row</span> <span class="k">-&gt;</span> 
  <span onmouseout="hideTip(event, 'fs60', 304)" onmouseover="showTip(event, 'fs60', 304)" class="i">row</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 305)" onmouseover="showTip(event, 'fs61', 305)" class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 306)" onmouseover="showTip(event, 'fs14', 306)" class="i">string</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Name</span><span class="s">&quot;</span>)<span class="o">.</span><span class="i">Length</span>)</pre>
</td>
</tr>
</table>

<p>フレームを対象にする場合、行と列の両方のデータを使用してグループ化できます。
多くの関数にとって <code>groupRows</code> と <code>groupCols</code> は同じものです。
一番簡単に使用できる関数は <code>Frame.groupRowsByXyz</code> で、
<code>Xyz</code> にはグループ化に使用する列の型を指定します。
たとえば <code>Frame.groupRowsByString("Sex")</code> とすれば、
文字列型の列 "Sex" を使用して行を簡単にグループ化できます。</p>

<p>あまり一般的では無い型を使用する場合、列の型を指定する必要があります。
これは5行目と9行目で<code>decimal</code>をキーとして使用しているコードを参照してください。
最後に、キーセレクタを関数で指定することもできます。
この関数は元のキーと、<code>ObjectSeries&lt;K&gt;</code> 型の値である行を引数にとります。
<code>ObjectSeries&lt;K&gt;</code> には特定の型の列を取得する <code>GetAs</code> など、
それぞれの値(列)を取得するための様々なメンバーが定義されています。</p>

<h3>単一キーでのグループ化</h3>

<p>グループ化されたデータフレームではマルチレベルインデックスが使用されています。
これはつまり、インデックスが複数レベルを表すキーのタプルになっているということです。
たとえば以下の通りです：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 307)" onmouseover="showTip(event, 'fs1', 307)" class="i">titanic</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 308)" onmouseover="showTip(event, 'fs2', 308)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 309)" onmouseover="showTip(event, 'fs110', 309)" class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span>
<span class="fsi">val it : Frame&lt;(string * int),string&gt; =</span>
<span class="fsi">                Survive   Name                    </span>
<span class="fsi">  female 2   -&gt; True      Heikkinen, Miss. Laina  </span>
<span class="fsi">         11  -&gt; True      Bonnell, Miss. Elizabeth</span>
<span class="fsi">         19  -&gt; True      Masselmani, Mrs. Fatima </span>
<span class="fsi">                ...       ...                     </span>
<span class="fsi">  male   870 -&gt; False     Balkic, Mr. Cerin       </span>
<span class="fsi">         878 -&gt; False     Laleff, Mr. Kristo      </span></pre>
</td>
</tr>
</table>

<p>見ての通り、簡易プリンターはマルチレベルインデックスを理解して、
第1レベル(性別)に続けて第2レベル(乗船者ID)を出力します。
<code>Frame.unnest</code> や <code>Frame.nest</code> を使用すると、
2レベルインデックスをデータフレームのシリーズ1つに変換する(あるいは逆の変換をする)
ことができます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs117', 310)" onmouseover="showTip(event, 'fs117', 310)" class="i">bySex</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 311)" onmouseover="showTip(event, 'fs1', 311)" class="i">titanic</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 312)" onmouseover="showTip(event, 'fs2', 312)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 313)" onmouseover="showTip(event, 'fs110', 313)" class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span> 
<span class="c">// 値として2つのフレームを持つようなシリーズを返します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs118', 314)" onmouseover="showTip(event, 'fs118', 314)" class="i">bySex1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs117', 315)" onmouseover="showTip(event, 'fs117', 315)" class="i">bySex</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 316)" onmouseover="showTip(event, 'fs2', 316)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs119', 317)" onmouseover="showTip(event, 'fs119', 317)" class="i">nest</span>
<span class="c">// スタックされていないデータを単一のフレームに戻します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 318)" onmouseover="showTip(event, 'fs120', 318)" class="i">bySex2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs117', 319)" onmouseover="showTip(event, 'fs117', 319)" class="i">bySex</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 320)" onmouseover="showTip(event, 'fs2', 320)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs119', 321)" onmouseover="showTip(event, 'fs119', 321)" class="i">nest</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 322)" onmouseover="showTip(event, 'fs2', 322)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs121', 323)" onmouseover="showTip(event, 'fs121', 323)" class="i">unnest</span></pre>
</td>
</tr>
</table>

<h3>複数キーでのグループ化</h3>

<p>最後に、複数のキーを使用してデータを繰り返しグループ化できるということを説明します。
たとえば乗船者を階級(Pclass)および乗船した場所(Embarked)でグループ化できます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 階級および乗船場所で乗船者をグループ化します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 324)" onmouseover="showTip(event, 'fs122', 324)" class="i">byClassAndPort</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs1', 325)" onmouseover="showTip(event, 'fs1', 325)" class="i">titanic</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 326)" onmouseover="showTip(event, 'fs2', 326)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs123', 327)" onmouseover="showTip(event, 'fs123', 327)" class="i">groupRowsByInt</span> <span class="s">&quot;</span><span class="s">Pclass</span><span class="s">&quot;</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 328)" onmouseover="showTip(event, 'fs2', 328)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 329)" onmouseover="showTip(event, 'fs110', 329)" class="i">groupRowsByString</span> <span class="s">&quot;</span><span class="s">Embarked</span><span class="s">&quot;</span>
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 330)" onmouseover="showTip(event, 'fs2', 330)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs124', 331)" onmouseover="showTip(event, 'fs124', 331)" class="i">mapRowKeys</span> <span onmouseout="hideTip(event, 'fs125', 332)" onmouseover="showTip(event, 'fs125', 332)" class="i">Pair</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs126', 333)" onmouseover="showTip(event, 'fs126', 333)" class="i">flatten3</span>

<span class="c">// 同じ行インデックスを持ったAgeシリーズだけを取得します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs127', 334)" onmouseover="showTip(event, 'fs127', 334)" class="i">ageByClassAndPort</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs122', 335)" onmouseover="showTip(event, 'fs122', 335)" class="i">byClassAndPort</span><span class="o">?</span><span class="i">Age</span></pre>
</td>
</tr>
</table>

<p><code>byClassAndPort</code> の型を確認してみると、 <code>Frame&lt;(string * int * int),string&gt;</code>
になっていることがわかります。
行キーは乗船場の識別子(string)、乗船者の階級(1から3までのint)、
乗船者IDの3つ組です。
フレームから単一のフレームを取得すると、
マルチレベルインデックスは保持されます。</p>

<p>最後の例として、グループに対する様々な集計方法を紹介します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 各グループの平均年齢を求めます</span>
<span onmouseout="hideTip(event, 'fs122', 336)" onmouseover="showTip(event, 'fs122', 336)" class="i">byClassAndPort</span><span class="o">?</span><span class="i">Age</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs128', 337)" onmouseover="showTip(event, 'fs128', 337)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs129', 338)" onmouseover="showTip(event, 'fs129', 338)" class="i">levelMean</span> <span onmouseout="hideTip(event, 'fs125', 339)" onmouseover="showTip(event, 'fs125', 339)" class="i">Pair</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs130', 340)" onmouseover="showTip(event, 'fs130', 340)" class="i">get1And2Of3</span>

<span class="c">// 数字的なすべての行に対して平均を求めます</span>
<span onmouseout="hideTip(event, 'fs122', 341)" onmouseover="showTip(event, 'fs122', 341)" class="i">byClassAndPort</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 342)" onmouseover="showTip(event, 'fs2', 342)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs131', 343)" onmouseover="showTip(event, 'fs131', 343)" class="i">getNumericCols</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 344)" onmouseover="showTip(event, 'fs36', 344)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 345)" onmouseover="showTip(event, 'fs132', 345)" class="i">dropMissing</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 346)" onmouseover="showTip(event, 'fs36', 346)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 347)" onmouseover="showTip(event, 'fs59', 347)" class="i">mapValues</span> (<span onmouseout="hideTip(event, 'fs128', 348)" onmouseover="showTip(event, 'fs128', 348)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs129', 349)" onmouseover="showTip(event, 'fs129', 349)" class="i">levelMean</span> <span onmouseout="hideTip(event, 'fs125', 350)" onmouseover="showTip(event, 'fs125', 350)" class="i">Pair</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs130', 351)" onmouseover="showTip(event, 'fs130', 351)" class="i">get1And2Of3</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 352)" onmouseover="showTip(event, 'fs2', 352)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs133', 353)" onmouseover="showTip(event, 'fs133', 353)" class="i">ofColumns</span>

<span class="c">// 各グループの生存者数をカウントします</span>
<span onmouseout="hideTip(event, 'fs122', 354)" onmouseover="showTip(event, 'fs122', 354)" class="i">byClassAndPort</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 355)" onmouseover="showTip(event, 'fs24', 355)" class="i">GetColumn</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs134', 356)" onmouseover="showTip(event, 'fs134', 356)" class="i">bool</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Survived</span><span class="s">&quot;</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 357)" onmouseover="showTip(event, 'fs36', 357)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs135', 358)" onmouseover="showTip(event, 'fs135', 358)" class="i">applyLevel</span> <span onmouseout="hideTip(event, 'fs125', 359)" onmouseover="showTip(event, 'fs125', 359)" class="i">Pair</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs130', 360)" onmouseover="showTip(event, 'fs130', 360)" class="i">get1And2Of3</span> (<span onmouseout="hideTip(event, 'fs36', 361)" onmouseover="showTip(event, 'fs36', 361)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs136', 362)" onmouseover="showTip(event, 'fs136', 362)" class="i">values</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs105', 363)" onmouseover="showTip(event, 'fs105', 363)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs106', 364)" onmouseover="showTip(event, 'fs106', 364)" class="i">countBy</span> <span onmouseout="hideTip(event, 'fs107', 365)" onmouseover="showTip(event, 'fs107', 365)" class="i">id</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs63', 366)" onmouseover="showTip(event, 'fs63', 366)" class="i">series</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 367)" onmouseover="showTip(event, 'fs2', 367)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 368)" onmouseover="showTip(event, 'fs108', 368)" class="i">ofRows</span></pre>
</td>
</tr>
</table>

<p>2番目のスニペットでは便利な関数を複数組み合わせています。
まず、 <code>Frame.getNumericCols</code> を使用して、
データフレームから数字的な列だけを取得します。
そして <code>Series.dropMissing</code> を使用して、値無しの列を排除します。
それから <code>Series.mapValues</code> を使用して、すべての列に対して平均を計算しています。</p>

<p>最後のスニペットにも注目してください。
(ブール値が含まれた)"Survived"列を取得した後、
特定の関数を使用して各グループを集計しています。
この関数は3つのコンポーネントで構成されています。
まずグループ内の値を取得し、その値(つまり <code>true</code> と <code>false</code> の数)をカウントし、
この結果を使用してシリーズを作成しています。
実行結果は以下のようなテーブルになります(一部の値を省略してあります)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
         <span class="i">True</span>  <span class="i">False</span>     
<span class="i">C</span> <span class="n">1</span>  <span class="k">-&gt;</span>  <span class="n">59</span>    <span class="n">26</span>        
  <span class="n">2</span>  <span class="k">-&gt;</span>  <span class="n">9</span>     <span class="n">8</span>         
  <span class="n">3</span>  <span class="k">-&gt;</span>  <span class="n">25</span>    <span class="n">41</span>        
<span class="i">S</span> <span class="n">1</span>  <span class="k">-&gt;</span>  <span class="n">74</span>    <span class="n">53</span>        
  <span class="n">2</span>  <span class="k">-&gt;</span>  <span class="n">76</span>    <span class="n">88</span>        
  <span class="n">3</span>  <span class="k">-&gt;</span>  <span class="n">67</span>    <span class="n">286</span>       </pre>
</td>
</tr>
</table>

<a name="pivot"></a>

<h2>ピボットテーブルを使用してデータを集計する</h2>

<p>先の節では非常に一般的なデータ処理操作であるグループ化を紹介しました。
しかしたとえば特定のキーでデータをグループ化しつつ、
集計結果を出力するというように、2つの操作を同時に行いたいこともよくあります。
この組み合わせは <strong>ピボットテーブル</strong> という概念としてまとめられています。</p>

<p>ピボットテーブルはデータフレームの行で利用可能な2つのキーを
元にしたフレーム内のデータを集計したい場合に便利なツールです。</p>

<p>たとえば <a href="#creating-csv">以前に読み込み</a>、先の節でも扱った
タイタニック号のデータセットに対して、男性と女性の生存比率を比較したいとしましょう。
これはピボットテーブルを作成する呼び出しを1回行うだけで実現できます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 369)" onmouseover="showTip(event, 'fs1', 369)" class="i">titanic</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 370)" onmouseover="showTip(event, 'fs2', 370)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs137', 371)" onmouseover="showTip(event, 'fs137', 371)" class="i">pivotTable</span>
    <span class="c">// 新しい行キーを返します</span>
    (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 372)" onmouseover="showTip(event, 'fs116', 372)" class="i">k</span> <span onmouseout="hideTip(event, 'fs138', 373)" onmouseover="showTip(event, 'fs138', 373)" class="i">r</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs138', 374)" onmouseover="showTip(event, 'fs138', 374)" class="i">r</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 375)" onmouseover="showTip(event, 'fs61', 375)" class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 376)" onmouseover="showTip(event, 'fs14', 376)" class="i">string</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span>))
    <span class="c">// 新しい列キーを返します</span>
    (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 377)" onmouseover="showTip(event, 'fs116', 377)" class="i">k</span> <span onmouseout="hideTip(event, 'fs138', 378)" onmouseover="showTip(event, 'fs138', 378)" class="i">r</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs138', 379)" onmouseover="showTip(event, 'fs138', 379)" class="i">r</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 380)" onmouseover="showTip(event, 'fs61', 380)" class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs134', 381)" onmouseover="showTip(event, 'fs134', 381)" class="i">bool</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Survived</span><span class="s">&quot;</span>))
    <span class="c">// サブフレームに対する集計処理を指定します</span>
    <span onmouseout="hideTip(event, 'fs2', 382)" onmouseover="showTip(event, 'fs2', 382)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 383)" onmouseover="showTip(event, 'fs139', 383)" class="i">countRows</span></pre>
</td>
</tr>
</table>

<p><code>pivotTable</code> 関数(および対応する <code>PivotTable</code> メソッド)は
3つの引数をとります。
最初の2つには元のフレームの行を受け取って新しい行キーを返す関数、
および列を受け取って新しい列キーを返す関数をそれぞれ指定します。
上の例では <code>Sex</code> の値が新しい行キーで、
乗船者が生存したかどうかが新しい列キーになります。
その結果、以下のような2x2のテーブルになります：</p>

<div class="deedleframe">

<table>
<thead>
<tr class="header">
<th></th>
<th><p>False</p></th>
<th><p>True</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>male</p></td>
<td><p>468</p></td>
<td><p>109</p></td>
</tr>
<tr class="even">
<td><p>female</p></td>
<td><p>81</p></td>
<td><p>233</p></td>
</tr>
</tbody>
</table>


</div>

<p>ピボットテーブル操作では元となるフレームを受け取り、
データ(行)を新しい行キーと列キーで分割し、
そして指定された集計処理により各フレームを集計します。
上の例では単に各サブグループの合計人数を返せばよいため、
<code>Frame.countRows</code> を指定しています。
ですが、たとえば平均年齢のように別の統計情報を計算することも簡単にできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs1', 384)" onmouseover="showTip(event, 'fs1', 384)" class="i">titanic</span> 
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 385)" onmouseover="showTip(event, 'fs2', 385)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs137', 386)" onmouseover="showTip(event, 'fs137', 386)" class="i">pivotTable</span> 
    (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 387)" onmouseover="showTip(event, 'fs116', 387)" class="i">k</span> <span onmouseout="hideTip(event, 'fs138', 388)" onmouseover="showTip(event, 'fs138', 388)" class="i">r</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs138', 389)" onmouseover="showTip(event, 'fs138', 389)" class="i">r</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 390)" onmouseover="showTip(event, 'fs61', 390)" class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 391)" onmouseover="showTip(event, 'fs14', 391)" class="i">string</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Sex</span><span class="s">&quot;</span>)) 
    (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 392)" onmouseover="showTip(event, 'fs116', 392)" class="i">k</span> <span onmouseout="hideTip(event, 'fs138', 393)" onmouseover="showTip(event, 'fs138', 393)" class="i">r</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs138', 394)" onmouseover="showTip(event, 'fs138', 394)" class="i">r</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 395)" onmouseover="showTip(event, 'fs61', 395)" class="i">GetAs</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs134', 396)" onmouseover="showTip(event, 'fs134', 396)" class="i">bool</span><span class="o">&gt;</span>(<span class="s">&quot;</span><span class="s">Survived</span><span class="s">&quot;</span>)) 
    (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs140', 397)" onmouseover="showTip(event, 'fs140', 397)" class="i">frame</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs140', 398)" onmouseover="showTip(event, 'fs140', 398)" class="i">frame</span><span class="o">?</span><span class="i">Age</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs128', 399)" onmouseover="showTip(event, 'fs128', 399)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs141', 400)" onmouseover="showTip(event, 'fs141', 400)" class="i">mean</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs142', 401)" onmouseover="showTip(event, 'fs142', 401)" class="i">round</span></pre>
</td>
</tr>
</table>

<p>この結果から、年配の男性は若者に比べて生存率が低い一方、
年配の女性は若者に比べて生存率が高いことがわかります：</p>

<div class="deedleframe">

<table>
<thead>
<tr class="header">
<th></th>
<th><p>False</p></th>
<th><p>True</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>male</p></td>
<td><p>32</p></td>
<td><p>27</p></td>
</tr>
<tr class="even">
<td><p>female</p></td>
<td><p>25</p></td>
<td><p>29</p></td>
</tr>
</tbody>
</table>


</div>

<a name="indexing"></a>

<h2>階層的インデックシング</h2>

<p>一部のデータセットではインデックスが単純なキーのシーケンスではなく、
さらに複雑な階層構造をなしている場合があります。
これは階層的インデックスを使用することで処理することができます。
また多次元データを簡単に処理する方法もあります。
マルチレベルインデックスは最も一般的にはグループ化によって生成されます
(先の節にいくつか例があります)。</p>

<h3>世界銀行データセットのルックアップ</h3>

<p>この節では <a href="#creating-wb">先ほど使用したものと同じ、世界銀行のデータセット</a>
を見ていくことにします。
これは2レベルの列階層を持ったデータフレームで、
1レベル目が地域名、2レベル名が国名になっています。</p>

<p>基礎的なルックアップ操作としてはスライシング処理があります。
以下のコードはF# 3.1においてのみ有効です：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// ユーロエリアの全国を取得します</span>
<span onmouseout="hideTip(event, 'fs43', 402)" onmouseover="showTip(event, 'fs43', 402)" class="i">world</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 403)" onmouseover="showTip(event, 'fs143', 403)" class="i">Columns</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>, <span class="o">*</span>]
<span class="c">// ユーロエリアグループからベルギー(Belgium)のデータを取得します</span>
<span onmouseout="hideTip(event, 'fs43', 404)" onmouseover="showTip(event, 'fs43', 404)" class="i">world</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 405)" onmouseover="showTip(event, 'fs143', 405)" class="i">Columns</span><span class="o">.</span>[(<span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>, <span class="s">&quot;</span><span class="s">Belgium</span><span class="s">&quot;</span>)]
<span class="c">// ベルギーはユーロとOECD両方に属するため2つデータが返されます</span>
<span onmouseout="hideTip(event, 'fs43', 406)" onmouseover="showTip(event, 'fs43', 406)" class="i">world</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 407)" onmouseover="showTip(event, 'fs143', 407)" class="i">Columns</span><span class="o">.</span>[<span class="o">*</span>, <span class="s">&quot;</span><span class="s">Belgium</span><span class="s">&quot;</span>]</pre>
</td>
</tr>
</table>

<p>F# 3.0の場合には以下のように <code>LookupXOfY</code> 系のヘルパ関数を使用します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// ユーロエリアの全国を取得します</span>
<span onmouseout="hideTip(event, 'fs43', 408)" onmouseover="showTip(event, 'fs43', 408)" class="i">world</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 409)" onmouseover="showTip(event, 'fs143', 409)" class="i">Columns</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs144', 410)" onmouseover="showTip(event, 'fs144', 410)" class="i">Lookup1Of2</span> <span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>]
<span class="c">// ベルギーはユーロとOECD両方に属するため2つデータが返されます</span>
<span onmouseout="hideTip(event, 'fs43', 411)" onmouseover="showTip(event, 'fs43', 411)" class="i">world</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 412)" onmouseover="showTip(event, 'fs143', 412)" class="i">Columns</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs145', 413)" onmouseover="showTip(event, 'fs145', 413)" class="i">Lookup2Of2</span> <span class="s">&quot;</span><span class="s">Belgium</span><span class="s">&quot;</span>]</pre>
</td>
</tr>
</table>

<p>ルックアップ操作では常に元のフレームと同じ型のデータフレームが返されます。
これはつまり1つのサブグループを選択したとしても、
マルチレベル階層キーを持った同じフレームを取得し直すことができるということです。
この動作はキーに対する射影を行うことで簡単に変更できます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 1レベル目のキーを除去します(そして国名だけを取得します)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs146', 414)" onmouseover="showTip(event, 'fs146', 414)" class="i">euro</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs43', 415)" onmouseover="showTip(event, 'fs43', 415)" class="i">world</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 416)" onmouseover="showTip(event, 'fs143', 416)" class="i">Columns</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">Euro</span><span class="s"> </span><span class="s">area</span><span class="s">&quot;</span>, <span class="o">*</span>]
  <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 417)" onmouseover="showTip(event, 'fs2', 417)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs147', 418)" onmouseover="showTip(event, 'fs147', 418)" class="i">mapColKeys</span> <span onmouseout="hideTip(event, 'fs148', 419)" onmouseover="showTip(event, 'fs148', 419)" class="i">snd</span></pre>
</td>
</tr>
</table>

<h3>世界銀行のデータに対するグループ化および集計</h3>

<p>階層的キーはグループ化の結果として生成されることがよくあります。
たとえばユーロ地区のデータセットに対して10年単位で行をグループ化することができます
(グループ化の詳細についてはこのドキュメント内にある
 <a href="#grouping">グループ化の節</a> を参照してください)。</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs149', 420)" onmouseover="showTip(event, 'fs149', 420)" class="i">decades</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 421)" onmouseover="showTip(event, 'fs146', 421)" class="i">euro</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 422)" onmouseover="showTip(event, 'fs2', 422)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs115', 423)" onmouseover="showTip(event, 'fs115', 423)" class="i">groupRowsUsing</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 424)" onmouseover="showTip(event, 'fs116', 424)" class="i">k</span> _ <span class="k">-&gt;</span> 
  <span onmouseout="hideTip(event, 'fs150', 425)" onmouseover="showTip(event, 'fs150', 425)" class="i">sprintf</span> <span class="s">&quot;</span><span class="s">%</span><span class="s">d0s</span><span class="s">&quot;</span> (<span onmouseout="hideTip(event, 'fs116', 426)" onmouseover="showTip(event, 'fs116', 426)" class="i">k</span> <span class="o">/</span> <span class="n">10</span>))
<span class="fsi"> </span>
<span class="fsi">val decades : Frame&lt;(string * int),string&gt; =</span>
<span class="fsi">                Austria  Estonia   ...      </span>
<span class="fsi">  1960s 1960 -&gt; 6.592    &lt;missing&gt; </span>
<span class="fsi">        1961 -&gt; 7.311    &lt;missing&gt; </span>
<span class="fsi">        ...  </span>
<span class="fsi">  2010s 2010 -&gt; 376.8    18.84 </span>
<span class="fsi">        2011 -&gt; 417.6    22.15 </span>
<span class="fsi">        2012 -&gt; 399.6    21.85 </span></pre>
</td>
</tr>
</table>

<p>これで階層的インデックスを持ったデータフレームが用意出来たので、
たとえば1990年代のような1つのグループから
データを選択することが出来るようになりました。
その結果は同じ型を持ったデータフレームです。
値それぞれを積算すれば、USドル基準の(10億単位ではない)元々のGDPを計算できます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs149', 427)" onmouseover="showTip(event, 'fs149', 427)" class="i">decades</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs151', 428)" onmouseover="showTip(event, 'fs151', 428)" class="i">Rows</span><span class="o">.</span>[<span class="s">&quot;</span><span class="s">1990</span><span class="s">s</span><span class="s">&quot;</span>, <span class="o">*</span>] <span class="o">*</span> <span class="n">1e9</span></pre>
</td>
</tr>
</table>

<p><code>Frame</code> および <code>Series</code> モジュールには集計やグループ化を行うための関数が
多数定義されています。
たとえば特定の国データを取得してその国のGDPを集計したり、
データセット全体に対して集計を行ったりすることもできます：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// スロヴァキアの10年単位の平均値を計算します</span>
<span onmouseout="hideTip(event, 'fs149', 429)" onmouseover="showTip(event, 'fs149', 429)" class="i">decades</span><span class="o">?</span><span class="i">``Slovak Republic``</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs128', 430)" onmouseover="showTip(event, 'fs128', 430)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs129', 431)" onmouseover="showTip(event, 'fs129', 431)" class="i">levelMean</span> <span onmouseout="hideTip(event, 'fs152', 432)" onmouseover="showTip(event, 'fs152', 432)" class="i">fst</span>

<span class="c">// 全国の10年単位の平均値を計算します</span>
<span onmouseout="hideTip(event, 'fs149', 433)" onmouseover="showTip(event, 'fs149', 433)" class="i">decades</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 434)" onmouseover="showTip(event, 'fs2', 434)" class="i">Frame</span><span class="o">.</span><span class="i">getNumericColumns</span> 
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 435)" onmouseover="showTip(event, 'fs36', 435)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 436)" onmouseover="showTip(event, 'fs59', 436)" class="i">mapValues</span> (<span onmouseout="hideTip(event, 'fs128', 437)" onmouseover="showTip(event, 'fs128', 437)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs129', 438)" onmouseover="showTip(event, 'fs129', 438)" class="i">levelMean</span> <span onmouseout="hideTip(event, 'fs152', 439)" onmouseover="showTip(event, 'fs152', 439)" class="i">fst</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 440)" onmouseover="showTip(event, 'fs2', 440)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs133', 441)" onmouseover="showTip(event, 'fs133', 441)" class="i">ofColumns</span>

<span class="c">// 10年単位の標準偏差をUSドル基準で計算します</span>
<span onmouseout="hideTip(event, 'fs149', 442)" onmouseover="showTip(event, 'fs149', 442)" class="i">decades</span><span class="o">?</span><span class="i">Belgium</span> <span class="o">*</span> <span class="n">1.0e9</span> 
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs128', 443)" onmouseover="showTip(event, 'fs128', 443)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs153', 444)" onmouseover="showTip(event, 'fs153', 444)" class="i">levelStdDev</span> <span onmouseout="hideTip(event, 'fs152', 445)" onmouseover="showTip(event, 'fs152', 445)" class="i">fst</span></pre>
</td>
</tr>
</table>

<p>これまでは階層的インデックスを1つしか持たないようなデータフレームを
対象にしてきました。
しかし行と列の両方に階層的インデックスがある場合でも完璧に処理できます。
以下のスニペットではGDP平均を基準にして国をグループ化しています
(さらに行を10年単位にグループ化しています)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// GDPを500ビリオン(5,000億)ドルと比較して国をグループ化します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs154', 446)" onmouseover="showTip(event, 'fs154', 446)" class="i">byGDP</span> <span class="o">=</span> 
  <span onmouseout="hideTip(event, 'fs149', 447)" onmouseover="showTip(event, 'fs149', 447)" class="i">decades</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 448)" onmouseover="showTip(event, 'fs2', 448)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs155', 449)" onmouseover="showTip(event, 'fs155', 449)" class="i">transpose</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs2', 450)" onmouseover="showTip(event, 'fs2', 450)" class="i">Frame</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs115', 451)" onmouseover="showTip(event, 'fs115', 451)" class="i">groupRowsUsing</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs96', 452)" onmouseover="showTip(event, 'fs96', 452)" class="i">k</span> <span onmouseout="hideTip(event, 'fs156', 453)" onmouseover="showTip(event, 'fs156', 453)" class="i">v</span> <span class="k">-&gt;</span> 
    <span onmouseout="hideTip(event, 'fs156', 454)" onmouseover="showTip(event, 'fs156', 454)" class="i">v</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 455)" onmouseover="showTip(event, 'fs57', 455)" class="i">As</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs157', 456)" onmouseover="showTip(event, 'fs157', 456)" class="i">float</span><span class="o">&gt;</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs128', 457)" onmouseover="showTip(event, 'fs128', 457)" class="i">Stats</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs141', 458)" onmouseover="showTip(event, 'fs141', 458)" class="i">mean</span> <span class="o">&gt;</span> <span class="n">500.0</span>)</pre>
</td>
</tr>
</table>

<p>(<code>byGDP</code> 上にマウスを移動させると) 2つの階層が型に含まれていることが確認できます。
列キーは <code>bool * string</code> (豊かどうかと国名)で、
行キーは <code>string * int</code> (10年単位および年)です。
このコードでは2つの列グループが作成されます。
1つはフランス(France)、ドイツ(Germany)、イタリア(Italy)を含む列で、
もう1つの列にはそれ以外の国が含まれます。</p>

<p>集計機能は(直接的には)行に対してのみサポートされますが、
<code>Frame.transpose</code> を使用すれば行と列を入れ替えることができます。</p>

<a name="missing"></a>

<h2>値無しへの対処</h2>

<p>値無しに対するサポートは組み込みで用意されています。
つまりシリーズやフレームはいずれも値無しを含むことができます。
データからシリーズまたはフレームを構成する際に、
特定の値が自動的に「値無し」として処理されます。
具体的には <code>Double.NaN</code> や、参照型およびnull許容型における <code>null</code> が該当します：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs36', 459)" onmouseover="showTip(event, 'fs36', 459)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 460)" onmouseover="showTip(event, 'fs46', 460)" class="i">ofValues</span> [ <span onmouseout="hideTip(event, 'fs158', 461)" onmouseover="showTip(event, 'fs158', 461)" class="i">Double</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs159', 462)" onmouseover="showTip(event, 'fs159', 462)" class="i">NaN</span>; <span class="n">1.0</span>; <span class="n">3.14</span> ]</pre>
</td>
</tr>
</table>

<div class="deedleseries">

<table>
<thead>
<tr class="header">
<th><p>Keys</p></th>
<th><p>0</p></th>
<th><p>1</p></th>
<th><p>2</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Values</p></td>
<td><p>N/A</p></td>
<td><p>1</p></td>
<td><p>3.14</p></td>
</tr>
</tbody>
</table>


</div>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
[ <span onmouseout="hideTip(event, 'fs160', 463)" onmouseover="showTip(event, 'fs160', 463)" class="i">Nullable</span>(<span class="n">1</span>); <span onmouseout="hideTip(event, 'fs160', 464)" onmouseover="showTip(event, 'fs160', 464)" class="i">Nullable</span>(); <span onmouseout="hideTip(event, 'fs160', 465)" onmouseover="showTip(event, 'fs160', 465)" class="i">Nullable</span>(<span class="n">3</span>) ]
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 466)" onmouseover="showTip(event, 'fs36', 466)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs46', 467)" onmouseover="showTip(event, 'fs46', 467)" class="i">ofValues</span></pre>
</td>
</tr>
</table>

<div class="deedleseries">

<table>
<thead>
<tr class="header">
<th><p>Keys</p></th>
<th><p>0</p></th>
<th><p>1</p></th>
<th><p>2</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Values</p></td>
<td><p>1</p></td>
<td><p>N/A</p></td>
<td><p>3</p></td>
</tr>
</tbody>
</table>


</div>

<p><code>Series.mean</code> のような統計計算を行う場合、値無しは自動的にスキップされます。
また <code>Series.mapValues</code> のように、射影やフィルタリングを行う際にも無視されます。
値無しを処理したい場合には <code>Series.mapAll</code> を使用します。
この場合には値が <code>option&lt;T&gt;</code> として取得できます
(ここでは <a href="#creating-csv">先の節</a> で使用したサンプルデータセットを使用します)：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 値無しを含む列を取得します</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs161', 468)" onmouseover="showTip(event, 'fs161', 468)" class="i">ozone</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 469)" onmouseover="showTip(event, 'fs8', 469)" class="i">air</span><span class="o">?</span><span class="i">Ozone</span> 

<span class="c">// 値無しを0に置き換えます</span>
<span onmouseout="hideTip(event, 'fs161', 470)" onmouseover="showTip(event, 'fs161', 470)" class="i">ozone</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 471)" onmouseover="showTip(event, 'fs36', 471)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs162', 472)" onmouseover="showTip(event, 'fs162', 472)" class="i">mapAll</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 473)" onmouseover="showTip(event, 'fs116', 473)" class="i">k</span> <span onmouseout="hideTip(event, 'fs163', 474)" onmouseover="showTip(event, 'fs163', 474)" class="i">v</span> <span class="k">-&gt;</span> 
  <span class="k">match</span> <span onmouseout="hideTip(event, 'fs163', 475)" onmouseover="showTip(event, 'fs163', 475)" class="i">v</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs164', 476)" onmouseover="showTip(event, 'fs164', 476)" class="i">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs165', 477)" onmouseover="showTip(event, 'fs165', 477)" class="i">Some</span> <span class="n">0.0</span> | <span onmouseout="hideTip(event, 'fs163', 478)" onmouseover="showTip(event, 'fs163', 478)" class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs163', 479)" onmouseover="showTip(event, 'fs163', 479)" class="i">v</span>)</pre>
</td>
</tr>
</table>

<p>実際、 <code>Series</code> モジュールには値無しを
より手軽に埋めるための関数が定義されているため、
<code>Series.mapAll</code> を使用する必要はほとんどないでしょう：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 値無しを定数値で置き換えます</span>
<span onmouseout="hideTip(event, 'fs161', 480)" onmouseover="showTip(event, 'fs161', 480)" class="i">ozone</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 481)" onmouseover="showTip(event, 'fs36', 481)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs166', 482)" onmouseover="showTip(event, 'fs166', 482)" class="i">fillMissingWith</span> <span class="n">0.0</span>

<span class="c">// 値無しではない値が前方にコピーされて</span>
<span class="c">// 値無しが埋められます</span>
<span onmouseout="hideTip(event, 'fs161', 483)" onmouseover="showTip(event, 'fs161', 483)" class="i">ozone</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 484)" onmouseover="showTip(event, 'fs36', 484)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs167', 485)" onmouseover="showTip(event, 'fs167', 485)" class="i">fillMissing</span> <span onmouseout="hideTip(event, 'fs168', 486)" onmouseover="showTip(event, 'fs168', 486)" class="i">Direction</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs169', 487)" onmouseover="showTip(event, 'fs169', 487)" class="i">Backward</span>

<span class="c">// 値無しではない値が後方にコピーされます</span>
<span class="c">// (1番目が値無しの場合にはそのまま値無しです！)</span>
<span onmouseout="hideTip(event, 'fs161', 488)" onmouseover="showTip(event, 'fs161', 488)" class="i">ozone</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 489)" onmouseover="showTip(event, 'fs36', 489)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs167', 490)" onmouseover="showTip(event, 'fs167', 490)" class="i">fillMissing</span> <span onmouseout="hideTip(event, 'fs168', 491)" onmouseover="showTip(event, 'fs168', 491)" class="i">Direction</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs170', 492)" onmouseover="showTip(event, 'fs170', 492)" class="i">Forward</span>

<span class="c">// 値無しを埋めて、埋められなかったものを除外します</span>
<span onmouseout="hideTip(event, 'fs161', 493)" onmouseover="showTip(event, 'fs161', 493)" class="i">ozone</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 494)" onmouseover="showTip(event, 'fs36', 494)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs167', 495)" onmouseover="showTip(event, 'fs167', 495)" class="i">fillMissing</span> <span onmouseout="hideTip(event, 'fs168', 496)" onmouseover="showTip(event, 'fs168', 496)" class="i">Direction</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs170', 497)" onmouseover="showTip(event, 'fs170', 497)" class="i">Forward</span>
      <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 498)" onmouseover="showTip(event, 'fs36', 498)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 499)" onmouseover="showTip(event, 'fs132', 499)" class="i">dropMissing</span></pre>
</td>
</tr>
</table>

<p>上記以外による値無しへの対処方法についてはライブラリでは直接サポートしていませんが、
<code>Series.fillMissingUsing</code> を使用すれば簡単に機能を追加できます。
この関数はすべての値無しに対して呼ばれることになる関数を引数にとります。
たとえば補完関数が既にあるとして、この関数を <code>fillMissingUsing</code> に指定すれば
必要になる補完処理を実行することができます。</p>

<p>たとえば以下のスニペットでは(値無しではない)前後の値の平均か、
どちらかの値(あるいは前後が値無しの場合には0)を返すようにしています：</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="c">// 補完関数を使用して値無しを置き換えます</span>
<span onmouseout="hideTip(event, 'fs161', 500)" onmouseover="showTip(event, 'fs161', 500)" class="i">ozone</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 501)" onmouseover="showTip(event, 'fs36', 501)" class="i">Series</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs171', 502)" onmouseover="showTip(event, 'fs171', 502)" class="i">fillMissingUsing</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs116', 503)" onmouseover="showTip(event, 'fs116', 503)" class="i">k</span> <span class="k">-&gt;</span> 
  <span class="c">// 前後の値を取得します</span>
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs172', 504)" onmouseover="showTip(event, 'fs172', 504)" class="i">prev</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs161', 505)" onmouseover="showTip(event, 'fs161', 505)" class="i">ozone</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 506)" onmouseover="showTip(event, 'fs55', 506)" class="i">TryGet</span>(<span onmouseout="hideTip(event, 'fs116', 507)" onmouseover="showTip(event, 'fs116', 507)" class="i">k</span>, <span onmouseout="hideTip(event, 'fs84', 508)" onmouseover="showTip(event, 'fs84', 508)" class="i">Lookup</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 509)" onmouseover="showTip(event, 'fs85', 509)" class="i">ExactOrSmaller</span>)
  <span class="k">let</span> <span onmouseout="hideTip(event, 'fs173', 510)" onmouseover="showTip(event, 'fs173', 510)" class="i">next</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs161', 511)" onmouseover="showTip(event, 'fs161', 511)" class="i">ozone</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs55', 512)" onmouseover="showTip(event, 'fs55', 512)" class="i">TryGet</span>(<span onmouseout="hideTip(event, 'fs116', 513)" onmouseover="showTip(event, 'fs116', 513)" class="i">k</span>, <span onmouseout="hideTip(event, 'fs84', 514)" onmouseover="showTip(event, 'fs84', 514)" class="i">Lookup</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 515)" onmouseover="showTip(event, 'fs87', 515)" class="i">ExactOrGreater</span>)
  <span class="c">// 利用可能な値に応じたパターンマッチ</span>
  <span class="k">match</span> <span onmouseout="hideTip(event, 'fs172', 516)" onmouseover="showTip(event, 'fs172', 516)" class="i">prev</span>, <span onmouseout="hideTip(event, 'fs173', 517)" onmouseover="showTip(event, 'fs173', 517)" class="i">next</span> <span class="k">with</span> 
  | <span onmouseout="hideTip(event, 'fs174', 518)" onmouseover="showTip(event, 'fs174', 518)" class="i">OptionalValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs175', 519)" onmouseover="showTip(event, 'fs175', 519)" class="i">Present</span>(<span onmouseout="hideTip(event, 'fs176', 520)" onmouseover="showTip(event, 'fs176', 520)" class="i">p</span>), <span onmouseout="hideTip(event, 'fs174', 521)" onmouseover="showTip(event, 'fs174', 521)" class="i">OptionalValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs175', 522)" onmouseover="showTip(event, 'fs175', 522)" class="i">Present</span>(<span onmouseout="hideTip(event, 'fs177', 523)" onmouseover="showTip(event, 'fs177', 523)" class="i">n</span>) <span class="k">-&gt;</span> 
      (<span onmouseout="hideTip(event, 'fs176', 524)" onmouseover="showTip(event, 'fs176', 524)" class="i">p</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs177', 525)" onmouseover="showTip(event, 'fs177', 525)" class="i">n</span>) <span class="o">/</span> <span class="n">2.0</span>
  | <span onmouseout="hideTip(event, 'fs174', 526)" onmouseover="showTip(event, 'fs174', 526)" class="i">OptionalValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs175', 527)" onmouseover="showTip(event, 'fs175', 527)" class="i">Present</span>(<span onmouseout="hideTip(event, 'fs178', 528)" onmouseover="showTip(event, 'fs178', 528)" class="i">v</span>), _ 
  | _, <span onmouseout="hideTip(event, 'fs174', 529)" onmouseover="showTip(event, 'fs174', 529)" class="i">OptionalValue</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs175', 530)" onmouseover="showTip(event, 'fs175', 530)" class="i">Present</span>(<span onmouseout="hideTip(event, 'fs178', 531)" onmouseover="showTip(event, 'fs178', 531)" class="i">v</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs178', 532)" onmouseover="showTip(event, 'fs178', 532)" class="i">v</span>
  | _ <span class="k">-&gt;</span> <span class="n">0.0</span>)</pre>
</td>
</tr>
</table>

<div class="tip" id="fs1">val titanic : Frame&lt;int,string&gt;<br /><br />Full name: Frame.titanic</div>
<div class="tip" id="fs2">Multiple items<br />module Frame<br /><br />from Deedle<br /><br />--------------------<br />type Frame =<br />&#160;&#160;static member CreateEmpty : unit -&gt; Frame&lt;&#39;R,&#39;C&gt; (requires equality and equality)<br />&#160;&#160;static member FromArray2D : array:&#39;T [,] -&gt; Frame&lt;int,int&gt;<br />&#160;&#160;static member FromColumns : cols:Series&lt;&#39;TColKey,Series&lt;&#39;TRowKey,&#39;V&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColKey&gt; (requires equality and equality)<br />&#160;&#160;static member FromColumns : cols:Series&lt;&#39;TColKey,ObjectSeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColKey&gt; (requires equality and equality)<br />&#160;&#160;static member FromColumns : columns:seq&lt;KeyValuePair&lt;&#39;ColKey,ObjectSeries&lt;&#39;RowKey&gt;&gt;&gt; -&gt; Frame&lt;&#39;RowKey,&#39;ColKey&gt; (requires equality and equality)<br />&#160;&#160;static member FromColumns : columns:seq&lt;KeyValuePair&lt;&#39;ColKey,Series&lt;&#39;RowKey,&#39;V&gt;&gt;&gt; -&gt; Frame&lt;&#39;RowKey,&#39;ColKey&gt; (requires equality and equality)<br />&#160;&#160;static member FromColumns : rows:seq&lt;Series&lt;&#39;ColKey,&#39;V&gt;&gt; -&gt; Frame&lt;&#39;ColKey,int&gt; (requires equality)<br />&#160;&#160;static member FromRecords : values:seq&lt;&#39;T&gt; -&gt; Frame&lt;int,string&gt;<br />&#160;&#160;static member FromRecords : series:Series&lt;&#39;K,&#39;R&gt; -&gt; Frame&lt;&#39;K,string&gt; (requires equality)<br />&#160;&#160;static member FromRowKeys : keys:seq&lt;&#39;K&gt; -&gt; Frame&lt;&#39;K,string&gt; (requires equality)<br />&#160;&#160;...<br /><br />Full name: Deedle.Frame<br /><br />--------------------<br />type Frame&lt;&#39;TRowKey,&#39;TColumnKey (requires equality and equality)&gt; =<br />&#160;&#160;interface IDynamicMetaObjectProvider<br />&#160;&#160;interface INotifyCollectionChanged<br />&#160;&#160;interface IFsiFormattable<br />&#160;&#160;interface IFrame<br />&#160;&#160;new : names:seq&lt;&#39;TColumnKey&gt; * columns:seq&lt;ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />&#160;&#160;private new : rowIndex:IIndex&lt;&#39;TRowKey&gt; * columnIndex:IIndex&lt;&#39;TColumnKey&gt; * data:IVector&lt;IVector&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />&#160;&#160;member AddColumn : column:&#39;TColumnKey * series:ISeries&lt;&#39;TRowKey&gt; -&gt; unit<br />&#160;&#160;member AddColumn : column:&#39;TColumnKey * series:seq&lt;&#39;V&gt; -&gt; unit<br />&#160;&#160;member AddColumn : column:&#39;TColumnKey * series:ISeries&lt;&#39;TRowKey&gt; * lookup:Lookup -&gt; unit<br />&#160;&#160;member AddColumn : column:&#39;TColumnKey * series:seq&lt;&#39;V&gt; * lookup:Lookup -&gt; unit<br />&#160;&#160;...<br /><br />Full name: Deedle.Frame&lt;_,_&gt;<br /><br />--------------------<br />new : names:seq&lt;&#39;TColumnKey&gt; * columns:seq&lt;ISeries&lt;&#39;TRowKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;</div>
<div class="tip" id="fs3">static member Frame.ReadCsv : path:string * ?hasHeaders:bool * ?inferTypes:bool * ?inferRows:int * ?schema:string * ?separators:string * ?culture:string * ?maxRows:int -&gt; Frame&lt;int,string&gt;<br />static member Frame.ReadCsv : stream:Stream * ?hasHeaders:bool * ?inferTypes:bool * ?inferRows:int * ?schema:string * ?separators:string * ?culture:string * ?maxRows:int -&gt; Frame&lt;int,string&gt;</div>
<div class="tip" id="fs4">val root : string<br /><br />Full name: Frame.root</div>
<div class="tip" id="fs5">val msft : Frame&lt;DateTime,string&gt;<br /><br />Full name: Frame.msft</div>
<div class="tip" id="fs6">val indexRowsDate : column:&#39;C -&gt; frame:Frame&lt;&#39;R1,&#39;C&gt; -&gt; Frame&lt;DateTime,&#39;C&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.indexRowsDate</div>
<div class="tip" id="fs7">val sortRowsByKey : frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;&#39;R,&#39;C&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.sortRowsByKey</div>
<div class="tip" id="fs8">val air : Frame&lt;int,string&gt;<br /><br />Full name: Frame.air</div>
<div class="tip" id="fs9">member Frame.SaveCsv : path:string * keyNames:seq&lt;string&gt; -&gt; unit<br />static member FrameExtensions.SaveCsv : frame:Frame&lt;&#39;R,&#39;C&gt; * path:string * keyNames:seq&lt;string&gt; * separator:char * culture:Globalization.CultureInfo -&gt; unit (requires equality and equality)<br />static member FrameExtensions.SaveCsv : frame:Frame&lt;&#39;R,&#39;C&gt; * stream:Stream * includeRowKeys:bool * keyNames:seq&lt;string&gt; * separator:char * culture:Globalization.CultureInfo -&gt; unit (requires equality and equality)<br />static member FrameExtensions.SaveCsv : frame:Frame&lt;&#39;R,&#39;C&gt; * path:string * includeRowKeys:bool * keyNames:seq&lt;string&gt; * separator:char * culture:Globalization.CultureInfo -&gt; unit (requires equality and equality)<br />member Frame.SaveCsv : stream:Stream * ?includeRowKeys:bool * ?keyNames:seq&lt;string&gt; * ?separator:char * ?culture:Globalization.CultureInfo -&gt; unit<br />member Frame.SaveCsv : path:string * ?includeRowKeys:bool * ?keyNames:seq&lt;string&gt; * ?separator:char * ?culture:Globalization.CultureInfo -&gt; unit</div>
<div class="tip" id="fs10">type Path =<br />&#160;&#160;static val DirectorySeparatorChar : char<br />&#160;&#160;static val AltDirectorySeparatorChar : char<br />&#160;&#160;static val VolumeSeparatorChar : char<br />&#160;&#160;static val InvalidPathChars : char[]<br />&#160;&#160;static val PathSeparator : char<br />&#160;&#160;static member ChangeExtension : path:string * extension:string -&gt; string<br />&#160;&#160;static member Combine : params paths:string[] -&gt; string + 3 overloads<br />&#160;&#160;static member GetDirectoryName : path:string -&gt; string<br />&#160;&#160;static member GetExtension : path:string -&gt; string<br />&#160;&#160;static member GetFileName : path:string -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.IO.Path</div>
<div class="tip" id="fs11">Path.GetTempFileName() : string</div>
<div class="tip" id="fs12">type Person =<br />&#160;&#160;{Name: string;<br />&#160;&#160;&#160;Age: int;<br />&#160;&#160;&#160;Countries: string list;}<br /><br />Full name: Frame.Person</div>
<div class="tip" id="fs13">Person.Name: string</div>
<div class="tip" id="fs14">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs15">Person.Age: int</div>
<div class="tip" id="fs16">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs17">Person.Countries: string list</div>
<div class="tip" id="fs18">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs19">val peopleRecds : Person list<br /><br />Full name: Frame.peopleRecds</div>
<div class="tip" id="fs20">val peopleList : Frame&lt;int,string&gt;<br /><br />Full name: Frame.peopleList</div>
<div class="tip" id="fs21">static member Frame.ofRecords : series:Series&lt;&#39;K,&#39;R&gt; -&gt; Frame&lt;&#39;K,string&gt; (requires equality)<br />static member Frame.ofRecords : values:seq&lt;&#39;T&gt; -&gt; Frame&lt;int,string&gt;</div>
<div class="tip" id="fs22">val people : Frame&lt;string,string&gt;<br /><br />Full name: Frame.people</div>
<div class="tip" id="fs23">val indexRowsString : column:&#39;C -&gt; frame:Frame&lt;&#39;R1,&#39;C&gt; -&gt; Frame&lt;string,&#39;C&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.indexRowsString</div>
<div class="tip" id="fs24">member Frame.GetColumn : column:&#39;TColumnKey -&gt; Series&lt;&#39;TRowKey,&#39;R&gt;<br />member Frame.GetColumn : column:&#39;TColumnKey * lookup:Lookup -&gt; Series&lt;&#39;TRowKey,&#39;R&gt;</div>
<div class="tip" id="fs25">val wb : WorldBankData.ServiceTypes.WorldBankDataService<br /><br />Full name: Frame.wb</div>
<div class="tip" id="fs26">type WorldBankData =<br />&#160;&#160;static member GetDataContext : unit -&gt; WorldBankDataService<br />&#160;&#160;nested type ServiceTypes<br /><br />Full name: FSharp.Data.WorldBankData<br /><em><br /><br />&lt;summary&gt;Typed representation of WorldBank data. See http://www.worldbank.org for terms and conditions.&lt;/summary&gt;</em></div>
<div class="tip" id="fs27">WorldBankData.GetDataContext() : WorldBankData.ServiceTypes.WorldBankDataService</div>
<div class="tip" id="fs28">val loadRegion : region:WorldBankData.ServiceTypes.Region -&gt; Frame&lt;int,(string * string)&gt;<br /><br />Full name: Frame.loadRegion<br /><em><br /><br />&#160;特定の地域に対して、GDPを現在のUSドルでロードし、<br />&#160;2レベルの列キー(地域と国名)を持ったフレームとしてデータを返します</em></div>
<div class="tip" id="fs29">val region : WorldBankData.ServiceTypes.Region</div>
<div class="tip" id="fs30">type ServiceTypes =<br />&#160;&#160;nested type Countries<br />&#160;&#160;nested type Country<br />&#160;&#160;nested type Indicators<br />&#160;&#160;nested type IndicatorsDescriptions<br />&#160;&#160;nested type Region<br />&#160;&#160;nested type Regions<br />&#160;&#160;nested type Topic<br />&#160;&#160;nested type Topics<br />&#160;&#160;nested type WorldBankDataService<br /><br />Full name: FSharp.Data.WorldBankData.ServiceTypes<br /><em><br /><br />&lt;summary&gt;Contains the types that describe the data service&lt;/summary&gt;</em></div>
<div class="tip" id="fs31">type Region =<br />&#160;&#160;inherit Region<br />&#160;&#160;member Countries : Countries<br />&#160;&#160;member Indicators : Indicators<br />&#160;&#160;member Name : string<br />&#160;&#160;member RegionCode : string<br /><br />Full name: FSharp.Data.WorldBankData.ServiceTypes.Region</div>
<div class="tip" id="fs32">val country : WorldBankData.ServiceTypes.Country</div>
<div class="tip" id="fs33">property WorldBankData.ServiceTypes.Region.Countries: WorldBankData.ServiceTypes.Countries<br /><em><br /><br />&lt;summary&gt;The indicators for the region&lt;/summary&gt;</em></div>
<div class="tip" id="fs34">property Runtime.WorldBank.Region.Name: string</div>
<div class="tip" id="fs35">property Runtime.WorldBank.Country.Name: string</div>
<div class="tip" id="fs36">Multiple items<br />module Series<br /><br />from Deedle<br /><br />--------------------<br />type Series =<br />&#160;&#160;static member ofNullables : values:seq&lt;Nullable&lt;&#39;a0&gt;&gt; -&gt; Series&lt;int,&#39;a0&gt; (requires default constructor and value type and &#39;a0 :&gt; ValueType)<br />&#160;&#160;static member ofObservations : observations:seq&lt;&#39;a0 * &#39;a1&gt; -&gt; Series&lt;&#39;a0,&#39;a1&gt; (requires equality)<br />&#160;&#160;static member ofOptionalObservations : observations:seq&lt;&#39;K * &#39;a1 option&gt; -&gt; Series&lt;&#39;K,&#39;a1&gt; (requires equality)<br />&#160;&#160;static member ofValues : values:seq&lt;&#39;a0&gt; -&gt; Series&lt;int,&#39;a0&gt;<br /><br />Full name: Deedle.FSharpSeriesExtensions.Series<br /><br />--------------------<br />type Series&lt;&#39;K,&#39;V (requires equality)&gt; =<br />&#160;&#160;interface IFsiFormattable<br />&#160;&#160;interface ISeries&lt;&#39;K&gt;<br />&#160;&#160;new : pairs:seq&lt;KeyValuePair&lt;&#39;K,&#39;V&gt;&gt; -&gt; Series&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;new : keys:seq&lt;&#39;K&gt; * values:seq&lt;&#39;V&gt; -&gt; Series&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;new : index:IIndex&lt;&#39;K&gt; * vector:IVector&lt;&#39;V&gt; * vectorBuilder:IVectorBuilder * indexBuilder:IIndexBuilder -&gt; Series&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;member After : lowerExclusive:&#39;K -&gt; Series&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;member Aggregate : aggregation:Aggregation&lt;&#39;K&gt; * observationSelector:Func&lt;DataSegment&lt;Series&lt;&#39;K,&#39;V&gt;&gt;,KeyValuePair&lt;&#39;TNewKey,OptionalValue&lt;&#39;R&gt;&gt;&gt; -&gt; Series&lt;&#39;TNewKey,&#39;R&gt; (requires equality)<br />&#160;&#160;member Aggregate : aggregation:Aggregation&lt;&#39;K&gt; * keySelector:Func&lt;DataSegment&lt;Series&lt;&#39;K,&#39;V&gt;&gt;,&#39;TNewKey&gt; * valueSelector:Func&lt;DataSegment&lt;Series&lt;&#39;K,&#39;V&gt;&gt;,OptionalValue&lt;&#39;R&gt;&gt; -&gt; Series&lt;&#39;TNewKey,&#39;R&gt; (requires equality)<br />&#160;&#160;member AsyncMaterialize : unit -&gt; Async&lt;Series&lt;&#39;K,&#39;V&gt;&gt;<br />&#160;&#160;member Before : upperExclusive:&#39;K -&gt; Series&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;...<br /><br />Full name: Deedle.Series&lt;_,_&gt;<br /><br />--------------------<br />new : pairs:seq&lt;Collections.Generic.KeyValuePair&lt;&#39;K,&#39;V&gt;&gt; -&gt; Series&lt;&#39;K,&#39;V&gt;<br />new : keys:seq&lt;&#39;K&gt; * values:seq&lt;&#39;V&gt; -&gt; Series&lt;&#39;K,&#39;V&gt;<br />new : index:Indices.IIndex&lt;&#39;K&gt; * vector:IVector&lt;&#39;V&gt; * vectorBuilder:Vectors.IVectorBuilder * indexBuilder:Indices.IIndexBuilder -&gt; Series&lt;&#39;K,&#39;V&gt;</div>
<div class="tip" id="fs37">static member Series.ofObservations : observations:seq&lt;&#39;a0 * &#39;a1&gt; -&gt; Series&lt;&#39;a0,&#39;a1&gt; (requires equality)</div>
<div class="tip" id="fs38">property WorldBankData.ServiceTypes.Country.Indicators: WorldBankData.ServiceTypes.Indicators<br /><em><br /><br />&lt;summary&gt;The indicators for the country&lt;/summary&gt;</em></div>
<div class="tip" id="fs39">val frame : columns:seq&lt;&#39;a * #ISeries&lt;&#39;c&gt;&gt; -&gt; Frame&lt;&#39;c,&#39;a&gt; (requires equality and equality)<br /><br />Full name: Deedle.FSharpFrameExtensions.frame</div>
<div class="tip" id="fs40">val eu : Frame&lt;int,(string * string)&gt;<br /><br />Full name: Frame.eu</div>
<div class="tip" id="fs41">property WorldBankData.ServiceTypes.WorldBankDataService.Regions: WorldBankData.ServiceTypes.Regions</div>
<div class="tip" id="fs42">val oecd : Frame&lt;int,(string * string)&gt;<br /><br />Full name: Frame.oecd</div>
<div class="tip" id="fs43">val world : Frame&lt;int,(string * string)&gt;<br /><br />Full name: Frame.world</div>
<div class="tip" id="fs44">member Frame.Join : otherFrame:Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Join : colKey:&#39;TColumnKey * series:Series&lt;&#39;TRowKey,&#39;V&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Join : otherFrame:Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; * kind:JoinKind -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Join : colKey:&#39;TColumnKey * series:Series&lt;&#39;TRowKey,&#39;V&gt; * kind:JoinKind -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Join : otherFrame:Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; * kind:JoinKind * lookup:Lookup -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Join : colKey:&#39;TColumnKey * series:Series&lt;&#39;TRowKey,&#39;V&gt; * kind:JoinKind * lookup:Lookup -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;</div>
<div class="tip" id="fs45">val peopleNested : Frame&lt;int,string&gt;<br /><br />Full name: Frame.peopleNested</div>
<div class="tip" id="fs46">static member Series.ofValues : values:seq&lt;&#39;a0&gt; -&gt; Series&lt;int,&#39;a0&gt;</div>
<div class="tip" id="fs47">val expandCols : names:seq&lt;string&gt; -&gt; frame:Frame&lt;&#39;R,string&gt; -&gt; Frame&lt;&#39;R,string&gt; (requires equality)<br /><br />Full name: Deedle.Frame.expandCols</div>
<div class="tip" id="fs48">val tuples : Series&lt;int,Collections.Generic.IDictionary&lt;string,obj&gt;&gt;<br /><br />Full name: Frame.tuples</div>
<div class="tip" id="fs49">val dict : keyValuePairs:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Collections.Generic.IDictionary&lt;&#39;Key,&#39;Value&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.dict</div>
<div class="tip" id="fs50">val box : value:&#39;T -&gt; obj<br /><br />Full name: Microsoft.FSharp.Core.Operators.box</div>
<div class="tip" id="fs51">val expandAllCols : nesting:int -&gt; frame:Frame&lt;&#39;R,string&gt; -&gt; Frame&lt;&#39;R,string&gt; (requires equality)<br /><br />Full name: Deedle.Frame.expandAllCols</div>
<div class="tip" id="fs52">property Frame.Columns: ColumnSeries&lt;string,string&gt;</div>
<div class="tip" id="fs53">val numAges : Series&lt;string,float&gt;<br /><br />Full name: Frame.numAges</div>
<div class="tip" id="fs54">member Series.Get : key:&#39;K -&gt; &#39;V<br />member Series.Get : key:&#39;K * lookup:Lookup -&gt; &#39;V</div>
<div class="tip" id="fs55">member Series.TryGet : key:&#39;K -&gt; OptionalValue&lt;&#39;V&gt;<br />member Series.TryGet : key:&#39;K * lookup:Lookup -&gt; OptionalValue&lt;&#39;V&gt;</div>
<div class="tip" id="fs56">member Series.GetAt : index:int -&gt; &#39;V</div>
<div class="tip" id="fs57">member ObjectSeries.As : unit -&gt; Series&lt;&#39;K,&#39;R&gt;</div>
<div class="tip" id="fs58">property Frame.Rows: RowSeries&lt;string,string&gt;</div>
<div class="tip" id="fs59">val mapValues : f:(&#39;T -&gt; &#39;R) -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;R&gt; (requires equality)<br /><br />Full name: Deedle.Series.mapValues</div>
<div class="tip" id="fs60">val row : ObjectSeries&lt;string&gt;</div>
<div class="tip" id="fs61">member ObjectSeries.GetAs : column:&#39;K -&gt; &#39;R<br />member ObjectSeries.GetAs : column:&#39;K * fallback:&#39;R -&gt; &#39;R</div>
<div class="tip" id="fs62">val more : Series&lt;string,float&gt;<br /><br />Full name: Frame.more</div>
<div class="tip" id="fs63">val series : observations:seq&lt;&#39;a * &#39;b&gt; -&gt; Series&lt;&#39;a,&#39;b&gt; (requires equality)<br /><br />Full name: Deedle.FSharpSeriesExtensions.series</div>
<div class="tip" id="fs64">val add1 : Series&lt;string,float&gt;<br /><br />Full name: Frame.add1</div>
<div class="tip" id="fs65">member Frame.ReplaceColumn : column:&#39;TColumnKey * data:seq&lt;&#39;V&gt; -&gt; unit<br />member Frame.ReplaceColumn : column:&#39;TColumnKey * series:ISeries&lt;&#39;TRowKey&gt; -&gt; unit<br />member Frame.ReplaceColumn : column:&#39;TColumnKey * data:seq&lt;&#39;V&gt; * lookup:Lookup -&gt; unit<br />member Frame.ReplaceColumn : column:&#39;TColumnKey * series:ISeries&lt;&#39;TRowKey&gt; * lookup:Lookup -&gt; unit</div>
<div class="tip" id="fs66">val newRow : Series&lt;string,obj&gt;<br /><br />Full name: Frame.newRow</div>
<div class="tip" id="fs67">member Frame.Merge : params otherFrames:Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; [] -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Merge : otherFrames:seq&lt;Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />member Frame.Merge : otherFrame:Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt;<br />static member FrameExtensions.Merge : frame:Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; * rowKey:&#39;TRowKey * row:ISeries&lt;&#39;TColumnKey&gt; -&gt; Frame&lt;&#39;TRowKey,&#39;TColumnKey&gt; (requires equality and equality)</div>
<div class="tip" id="fs68">val otherRow : SeriesBuilder&lt;string&gt;<br /><br />Full name: Frame.otherRow</div>
<div class="tip" id="fs69">Multiple items<br />type SeriesBuilder&lt;&#39;K (requires equality)&gt; =<br />&#160;&#160;inherit SeriesBuilder&lt;&#39;K,obj&gt;<br />&#160;&#160;new : unit -&gt; SeriesBuilder&lt;&#39;K&gt;<br /><br />Full name: Deedle.SeriesBuilder&lt;_&gt;<br /><br />--------------------<br />type SeriesBuilder&lt;&#39;K,&#39;V (requires equality and equality)&gt; =<br />&#160;&#160;interface IDynamicMetaObjectProvider<br />&#160;&#160;interface IDictionary&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;interface seq&lt;KeyValuePair&lt;&#39;K,&#39;V&gt;&gt;<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;new : unit -&gt; SeriesBuilder&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;member Add : key:&#39;K * value:&#39;V -&gt; unit<br />&#160;&#160;member Series : Series&lt;&#39;K,&#39;V&gt;<br />&#160;&#160;static member ( ?&lt;- ) : builder:SeriesBuilder&lt;string,&#39;V&gt; * name:string * value:&#39;V -&gt; unit<br /><br />Full name: Deedle.SeriesBuilder&lt;_,_&gt;<br /><br />--------------------<br />new : unit -&gt; SeriesBuilder&lt;&#39;K&gt;<br /><br />--------------------<br />new : unit -&gt; SeriesBuilder&lt;&#39;K,&#39;V&gt;</div>
<div class="tip" id="fs70">property SeriesBuilder.Series: Series&lt;string,obj&gt;</div>
<div class="tip" id="fs71">val nums : Series&lt;int,float&gt;<br /><br />Full name: Frame.nums</div>
<div class="tip" id="fs72">val strs : Series&lt;string,string&gt;<br /><br />Full name: Frame.strs</div>
<div class="tip" id="fs73">val ages : Series&lt;string,float&gt;<br /><br />Full name: Frame.ages</div>
<div class="tip" id="fs74">val get : key:&#39;K -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; &#39;T (requires equality)<br /><br />Full name: Deedle.Series.get</div>
<div class="tip" id="fs75">val nan : float<br /><br />Full name: Microsoft.FSharp.Core.Operators.nan</div>
<div class="tip" id="fs76">val tryGet : key:&#39;K -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; &#39;T option (requires equality)<br /><br />Full name: Deedle.Series.tryGet</div>
<div class="tip" id="fs77">val getAll : keys:seq&lt;&#39;K&gt; -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.getAll</div>
<div class="tip" id="fs78">property Series.Observations: seq&lt;Collections.Generic.KeyValuePair&lt;string,float&gt;&gt;</div>
<div class="tip" id="fs79">val observations : series:Series&lt;&#39;K,&#39;T&gt; -&gt; seq&lt;&#39;K * &#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.observations</div>
<div class="tip" id="fs80">val observationsAll : series:Series&lt;&#39;K,&#39;T&gt; -&gt; seq&lt;&#39;K * &#39;T option&gt; (requires equality)<br /><br />Full name: Deedle.Series.observationsAll</div>
<div class="tip" id="fs81">val opens : Series&lt;DateTime,float&gt;<br /><br />Full name: Frame.opens</div>
<div class="tip" id="fs82">Multiple items<br />type DateTime =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; DateTime + 10 overloads<br />&#160;&#160;&#160;&#160;member Add : value:TimeSpan -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddDays : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddHours : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMilliseconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMinutes : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMonths : months:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddSeconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddTicks : value:int64 -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddYears : value:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.DateTime<br /><br />--------------------<br />DateTime()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs83">val e : exn</div>
<div class="tip" id="fs84">type Lookup =<br />&#160;&#160;|  Exact  =  1<br />&#160;&#160;|  ExactOrGreater  =  3<br />&#160;&#160;|  ExactOrSmaller  =  5<br />&#160;&#160;|  Greater  =  2<br />&#160;&#160;|  Smaller  =  4<br /><br />Full name: Deedle.Lookup</div>
<div class="tip" id="fs85">Lookup.ExactOrSmaller: Lookup = 5</div>
<div class="tip" id="fs86">val lookup : key:&#39;K -&gt; lookup:Lookup -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; &#39;T (requires equality)<br /><br />Full name: Deedle.Series.lookup</div>
<div class="tip" id="fs87">Lookup.ExactOrGreater: Lookup = 3</div>
<div class="tip" id="fs88">val dates : DateTime list<br /><br />Full name: Frame.dates</div>
<div class="tip" id="fs89">val m : int</div>
<div class="tip" id="fs90">val lookupAll : keys:seq&lt;&#39;K&gt; -&gt; lookup:Lookup -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.lookupAll</div>
<div class="tip" id="fs91">val mapKeys : f:(&#39;K -&gt; &#39;R) -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;R,&#39;T&gt; (requires equality and equality)<br /><br />Full name: Deedle.Series.mapKeys</div>
<div class="tip" id="fs92">val k : DateTime</div>
<div class="tip" id="fs93">DateTime.ToShortDateString() : string</div>
<div class="tip" id="fs94">val travels : Series&lt;string,string list&gt;<br /><br />Full name: Frame.travels</div>
<div class="tip" id="fs95">val groupBy : keySelector:(&#39;K -&gt; &#39;T -&gt; &#39;TNewKey) -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;TNewKey,Series&lt;&#39;K,&#39;T&gt;&gt; (requires equality and equality)<br /><br />Full name: Deedle.Series.groupBy</div>
<div class="tip" id="fs96">val k : string</div>
<div class="tip" id="fs97">val v : string list</div>
<div class="tip" id="fs98">property String.Length: int</div>
<div class="tip" id="fs99">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs100">val exists : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.List.exists</div>
<div class="tip" id="fs101">val groupInto : keySelector:(&#39;K -&gt; &#39;T -&gt; &#39;TNewKey) -&gt; f:(&#39;TNewKey -&gt; Series&lt;&#39;K,&#39;T&gt; -&gt; &#39;TNewValue) -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;TNewKey,&#39;TNewValue&gt; (requires equality and equality)<br /><br />Full name: Deedle.Series.groupInto</div>
<div class="tip" id="fs102">val len : int</div>
<div class="tip" id="fs103">val people : Series&lt;string,string list&gt;</div>
<div class="tip" id="fs104">val countKeys : series:Series&lt;&#39;K,&#39;T&gt; -&gt; int (requires equality)<br /><br />Full name: Deedle.Series.countKeys</div>
<div class="tip" id="fs105">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs106">val countBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;Key * int&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.countBy</div>
<div class="tip" id="fs107">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs108">static member Frame.ofRows : rows:seq&lt;&#39;a0 * #ISeries&lt;&#39;a2&gt;&gt; -&gt; Frame&lt;&#39;a0,&#39;a2&gt; (requires equality and equality)<br />static member Frame.ofRows : rows:Series&lt;&#39;a0,#ISeries&lt;&#39;a2&gt;&gt; -&gt; Frame&lt;&#39;a0,&#39;a2&gt; (requires equality and equality)</div>
<div class="tip" id="fs109">val fillMissingWith : value:&#39;T -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;&#39;R,&#39;C&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.fillMissingWith</div>
<div class="tip" id="fs110">val groupRowsByString : column:&#39;C -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;(string * &#39;R),&#39;C&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.groupRowsByString</div>
<div class="tip" id="fs111">val byDecimal : Frame&lt;(decimal * int),string&gt;<br /><br />Full name: Frame.byDecimal</div>
<div class="tip" id="fs112">Multiple items<br />val decimal : value:&#39;T -&gt; decimal (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.decimal<br /><br />--------------------<br />type decimal = Decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal<br /><br />--------------------<br />type decimal&lt;&#39;Measure&gt; = decimal<br /><br />Full name: Microsoft.FSharp.Core.decimal&lt;_&gt;</div>
<div class="tip" id="fs113">val groupRowsBy : column:&#39;C -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;(&#39;K * &#39;R),&#39;C&gt; (requires equality and equality and equality)<br /><br />Full name: Deedle.Frame.groupRowsBy</div>
<div class="tip" id="fs114">member Frame.GroupRowsBy : colKey:&#39;TColumnKey -&gt; Frame&lt;(&#39;TGroup * &#39;TRowKey),&#39;TColumnKey&gt; (requires equality)</div>
<div class="tip" id="fs115">val groupRowsUsing : selector:(&#39;R -&gt; ObjectSeries&lt;&#39;C&gt; -&gt; &#39;K) -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;(&#39;K * &#39;R),&#39;C&gt; (requires equality and equality and equality)<br /><br />Full name: Deedle.Frame.groupRowsUsing</div>
<div class="tip" id="fs116">val k : int</div>
<div class="tip" id="fs117">val bySex : Frame&lt;(string * int),string&gt;<br /><br />Full name: Frame.bySex</div>
<div class="tip" id="fs118">val bySex1 : Series&lt;string,Frame&lt;int,string&gt;&gt;<br /><br />Full name: Frame.bySex1</div>
<div class="tip" id="fs119">val nest : frame:Frame&lt;(&#39;R1 * &#39;R2),&#39;C&gt; -&gt; Series&lt;&#39;R1,Frame&lt;&#39;R2,&#39;C&gt;&gt; (requires equality and equality and equality)<br /><br />Full name: Deedle.Frame.nest</div>
<div class="tip" id="fs120">val bySex2 : Frame&lt;(string * int),string&gt;<br /><br />Full name: Frame.bySex2</div>
<div class="tip" id="fs121">val unnest : series:Series&lt;&#39;R1,Frame&lt;&#39;R2,&#39;C&gt;&gt; -&gt; Frame&lt;(&#39;R1 * &#39;R2),&#39;C&gt; (requires equality and equality and equality)<br /><br />Full name: Deedle.Frame.unnest</div>
<div class="tip" id="fs122">val byClassAndPort : Frame&lt;(string * int * int),string&gt;<br /><br />Full name: Frame.byClassAndPort</div>
<div class="tip" id="fs123">val groupRowsByInt : column:&#39;C -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;(int * &#39;R),&#39;C&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.groupRowsByInt</div>
<div class="tip" id="fs124">val mapRowKeys : f:(&#39;R1 -&gt; &#39;R2) -&gt; frame:Frame&lt;&#39;R1,&#39;C&gt; -&gt; Frame&lt;&#39;R2,&#39;C&gt; (requires equality and equality and equality)<br /><br />Full name: Deedle.Frame.mapRowKeys</div>
<div class="tip" id="fs125">module Pair<br /><br />from Deedle</div>
<div class="tip" id="fs126">val flatten3 : v1:&#39;a * (&#39;b * &#39;c) -&gt; &#39;a * &#39;b * &#39;c<br /><br />Full name: Deedle.Pair.flatten3</div>
<div class="tip" id="fs127">val ageByClassAndPort : Series&lt;(string * int * int),float&gt;<br /><br />Full name: Frame.ageByClassAndPort</div>
<div class="tip" id="fs128">type Stats =<br />&#160;&#160;static member count : frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Series&lt;&#39;C,int&gt; (requires equality and equality)<br />&#160;&#160;static member count : series:Series&lt;&#39;K,&#39;V&gt; -&gt; int (requires equality)<br />&#160;&#160;static member expandingCount : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingKurt : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingMax : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingMean : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingMin : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingSkew : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingStdDev : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;static member expandingSum : series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;K,float&gt; (requires equality)<br />&#160;&#160;...<br /><br />Full name: Deedle.Stats</div>
<div class="tip" id="fs129">static member Stats.levelMean : level:(&#39;K -&gt; &#39;L) -&gt; series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;L,float&gt; (requires equality and equality)</div>
<div class="tip" id="fs130">val get1And2Of3 : v1:&#39;a * v2:&#39;b * &#39;c -&gt; &#39;a * &#39;b<br /><br />Full name: Deedle.Pair.get1And2Of3</div>
<div class="tip" id="fs131">val getNumericCols : frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Series&lt;&#39;C,Series&lt;&#39;R,float&gt;&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.getNumericCols</div>
<div class="tip" id="fs132">val dropMissing : series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.dropMissing</div>
<div class="tip" id="fs133">static member Frame.ofColumns : cols:Series&lt;&#39;a0,#ISeries&lt;&#39;a2&gt;&gt; -&gt; Frame&lt;&#39;a2,&#39;a0&gt; (requires equality and equality)<br />static member Frame.ofColumns : cols:seq&lt;&#39;a0 * #ISeries&lt;&#39;K&gt;&gt; -&gt; Frame&lt;&#39;K,&#39;a0&gt; (requires equality and equality)</div>
<div class="tip" id="fs134">type bool = Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs135">val applyLevel : level:(&#39;K1 -&gt; &#39;K2) -&gt; op:(Series&lt;&#39;K1,&#39;V&gt; -&gt; &#39;R) -&gt; series:Series&lt;&#39;K1,&#39;V&gt; -&gt; Series&lt;&#39;K2,&#39;R&gt; (requires equality and equality)<br /><br />Full name: Deedle.Series.applyLevel</div>
<div class="tip" id="fs136">val values : series:Series&lt;&#39;K,&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.values</div>
<div class="tip" id="fs137">val pivotTable : rowGrp:(&#39;R -&gt; ObjectSeries&lt;&#39;C&gt; -&gt; &#39;RNew) -&gt; colGrp:(&#39;R -&gt; ObjectSeries&lt;&#39;C&gt; -&gt; &#39;CNew) -&gt; op:(Frame&lt;&#39;R,&#39;C&gt; -&gt; &#39;T) -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;&#39;RNew,&#39;CNew&gt; (requires equality and equality and equality and equality)<br /><br />Full name: Deedle.Frame.pivotTable</div>
<div class="tip" id="fs138">val r : ObjectSeries&lt;string&gt;</div>
<div class="tip" id="fs139">val countRows : frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; int (requires equality and equality)<br /><br />Full name: Deedle.Frame.countRows</div>
<div class="tip" id="fs140">val frame : Frame&lt;int,string&gt;</div>
<div class="tip" id="fs141">static member Stats.mean : frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Series&lt;&#39;C,float&gt; (requires equality and equality)<br />static member Stats.mean : series:Series&lt;&#39;K,float&gt; -&gt; float (requires equality)</div>
<div class="tip" id="fs142">val round : value:&#39;T -&gt; &#39;T (requires member Round)<br /><br />Full name: Microsoft.FSharp.Core.Operators.round</div>
<div class="tip" id="fs143">property Frame.Columns: ColumnSeries&lt;int,(string * string)&gt;</div>
<div class="tip" id="fs144">val Lookup1Of2 : k:&#39;a -&gt; ICustomLookup&lt;&#39;b&gt;<br /><br />Full name: Deedle.MultiKeyExtensions.Lookup1Of2</div>
<div class="tip" id="fs145">val Lookup2Of2 : k:&#39;a -&gt; ICustomLookup&lt;&#39;b&gt;<br /><br />Full name: Deedle.MultiKeyExtensions.Lookup2Of2</div>
<div class="tip" id="fs146">val euro : Frame&lt;int,string&gt;<br /><br />Full name: Frame.euro</div>
<div class="tip" id="fs147">val mapColKeys : f:(&#39;C -&gt; &#39;a) -&gt; frame:Frame&lt;&#39;R,&#39;C&gt; -&gt; Frame&lt;&#39;R,&#39;a&gt; (requires equality and equality and equality)<br /><br />Full name: Deedle.Frame.mapColKeys</div>
<div class="tip" id="fs148">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs149">val decades : Frame&lt;(string * int),string&gt;<br /><br />Full name: Frame.decades</div>
<div class="tip" id="fs150">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.sprintf</div>
<div class="tip" id="fs151">property Frame.Rows: RowSeries&lt;(string * int),string&gt;</div>
<div class="tip" id="fs152">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs153">static member Stats.levelStdDev : level:(&#39;K -&gt; &#39;L) -&gt; series:Series&lt;&#39;K,float&gt; -&gt; Series&lt;&#39;L,float&gt; (requires equality and equality)</div>
<div class="tip" id="fs154">val byGDP : Frame&lt;(bool * string),(string * int)&gt;<br /><br />Full name: Frame.byGDP</div>
<div class="tip" id="fs155">val transpose : frame:Frame&lt;&#39;R,&#39;TColumnKey&gt; -&gt; Frame&lt;&#39;TColumnKey,&#39;R&gt; (requires equality and equality)<br /><br />Full name: Deedle.Frame.transpose</div>
<div class="tip" id="fs156">val v : ObjectSeries&lt;string * int&gt;</div>
<div class="tip" id="fs157">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs158">type Double =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;&#160;&#160;member Equals : obj:obj -&gt; bool + 1 overload<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member GetTypeCode : unit -&gt; TypeCode<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string + 3 overloads<br />&#160;&#160;&#160;&#160;static val MinValue : float<br />&#160;&#160;&#160;&#160;static val MaxValue : float<br />&#160;&#160;&#160;&#160;static val Epsilon : float<br />&#160;&#160;&#160;&#160;static val NegativeInfinity : float<br />&#160;&#160;&#160;&#160;static val PositiveInfinity : float<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.Double</div>
<div class="tip" id="fs159">field float.NaN = NaN</div>
<div class="tip" id="fs160">Multiple items<br />type Nullable =<br />&#160;&#160;static member Compare&lt;&#39;T&gt; : n1:Nullable&lt;&#39;T&gt; * n2:Nullable&lt;&#39;T&gt; -&gt; int<br />&#160;&#160;static member Equals&lt;&#39;T&gt; : n1:Nullable&lt;&#39;T&gt; * n2:Nullable&lt;&#39;T&gt; -&gt; bool<br />&#160;&#160;static member GetUnderlyingType : nullableType:Type -&gt; Type<br /><br />Full name: System.Nullable<br /><br />--------------------<br />type Nullable&lt;&#39;T (requires default constructor and value type and &#39;T :&gt; ValueType)&gt; =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : value:&#39;T -&gt; Nullable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member Equals : other:obj -&gt; bool<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member GetValueOrDefault : unit -&gt; &#39;T + 1 overload<br />&#160;&#160;&#160;&#160;member HasValue : bool<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member Value : &#39;T<br />&#160;&#160;end<br /><br />Full name: System.Nullable&lt;_&gt;<br /><br />--------------------<br />Nullable()<br />Nullable(value: &#39;T) : unit</div>
<div class="tip" id="fs161">val ozone : Series&lt;int,float&gt;<br /><br />Full name: Frame.ozone</div>
<div class="tip" id="fs162">val mapAll : f:(&#39;K -&gt; &#39;T option -&gt; &#39;R option) -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;R&gt; (requires equality)<br /><br />Full name: Deedle.Series.mapAll</div>
<div class="tip" id="fs163">val v : float option</div>
<div class="tip" id="fs164">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs165">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs166">val fillMissingWith : value:&#39;a -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.fillMissingWith</div>
<div class="tip" id="fs167">val fillMissing : direction:Direction -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.fillMissing</div>
<div class="tip" id="fs168">type Direction =<br />&#160;&#160;|  Backward  =  0<br />&#160;&#160;|  Forward  =  1<br /><br />Full name: Deedle.Direction</div>
<div class="tip" id="fs169">Direction.Backward: Direction = 0</div>
<div class="tip" id="fs170">Direction.Forward: Direction = 1</div>
<div class="tip" id="fs171">val fillMissingUsing : f:(&#39;K -&gt; &#39;T) -&gt; series:Series&lt;&#39;K,&#39;T&gt; -&gt; Series&lt;&#39;K,&#39;T&gt; (requires equality)<br /><br />Full name: Deedle.Series.fillMissingUsing</div>
<div class="tip" id="fs172">val prev : OptionalValue&lt;float&gt;</div>
<div class="tip" id="fs173">val next : OptionalValue&lt;float&gt;</div>
<div class="tip" id="fs174">Multiple items<br />module OptionalValue<br /><br />from Deedle<br /><br />--------------------<br />type OptionalValue =<br />&#160;&#160;static member Create : v:&#39;a0 -&gt; OptionalValue&lt;&#39;a0&gt;<br />&#160;&#160;static member Empty : unit -&gt; OptionalValue&lt;&#39;T&gt;<br />&#160;&#160;static member OfNullable : v:Nullable&lt;&#39;T&gt; -&gt; OptionalValue&lt;&#39;T&gt; (requires default constructor and value type and &#39;T :&gt; ValueType)<br /><br />Full name: Deedle.OptionalValue<br /><br />--------------------<br />type OptionalValue&lt;&#39;T&gt; =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : value:&#39;T -&gt; OptionalValue&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;private new : hasValue:bool * value:&#39;T -&gt; OptionalValue&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;override Equals : y:obj -&gt; bool<br />&#160;&#160;&#160;&#160;override GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;override ToString : unit -&gt; string<br />&#160;&#160;&#160;&#160;member HasValue : bool<br />&#160;&#160;&#160;&#160;member Value : &#39;T<br />&#160;&#160;&#160;&#160;member ValueOrDefault : &#39;T<br />&#160;&#160;&#160;&#160;static member Missing : OptionalValue&lt;&#39;T&gt;<br />&#160;&#160;end<br /><br />Full name: Deedle.OptionalValue&lt;_&gt;<br /><br />--------------------<br />OptionalValue()<br />new : value:&#39;T -&gt; OptionalValue&lt;&#39;T&gt;</div>
<div class="tip" id="fs175">active recognizer Present: &#39;T opt -&gt; Choice&lt;unit,&#39;T&gt;<br /><br />Full name: Deedle.OptionalValue.( |Missing|Present| )</div>
<div class="tip" id="fs176">val p : float</div>
<div class="tip" id="fs177">val n : float</div>
<div class="tip" id="fs178">val v : float</div>

        </div>
        <div class="span3">
          <a href="/Deedle/ja/index.html">
            <img src="/Deedle/ja/../images/logo.png" style="width:140px;height:140px;margin:10px 0px 0px 35px;border-style:none;" />
          </a>

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">Deedle</li>
            <li><a href="/Deedle/ja/index.html">ホームページ</a></li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/Deedle">NuGet経由でライブラリを取得</a></li>
            <li><a href="http://github.com/BlueMountainCapital/Deedle">GitHub上のソースコード</a></li>
            <li><a href="http://github.com/BlueMountainCapital/Deedle/blob/master/LICENSE.md">ライセンス</a></li>
            <li><a href="http://github.com/BlueMountainCapital/Deedle/blob/master/RELEASE_NOTES.md">リリースノート</a></li>
            <li><a href="/Deedle/ja/design.html">デザインノート</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/deedle">質問する！</a></li>
            
            <li class="nav-header">F#で使用する</li>
            <li>
              <a href="/Deedle/ja/tutorial.html">クイックスタートチュートリアル</a>
            </li>
            <li>
              <a href="/Deedle/ja/series.html">時系列の処理</a>
            </li>
            <li>
              <a href="/Deedle/ja/frame.html">データフレームの処理</a>
              <ul class="nav nav-list">
                <li><a href="/Deedle/ja/frame.html#creating">作成および読み込み</a></li>
                <li><a href="/Deedle/ja/frame.html#dataframe">フレームの操作</a></li>
                <li><a href="/Deedle/ja/frame.html#slicing">高度なスライシング</a></li>
                <li><a href="/Deedle/ja/frame.html#grouping">データのグループ化</a></li>
                <li><a href="/Deedle/ja/frame.html#pivot">ピボットテーブル</a></li>
                <li><a href="/Deedle/ja/frame.html#indexing">階層的インデックシング</a></li>
                <li><a href="/Deedle/ja/frame.html#missing">値無し</a></li>
              </ul>
            </li>
            <li>
              <a href="/Deedle/ja/stats.html">統計および計算</a>
            </li>
            <li>
              <a href="/Deedle/ja/rinterop.html">RとDeedleを組み合わせる</a>
            </li>

            <li class="nav-header">C#で使用する</li>
            <li><a href="/Deedle/ja/csharpintro.html">はじめに</a></li>
            <li>
              <a href="/Deedle/ja/csharpseries.html">時系列データの処理</a>
            </li>
            <li>
              <a href="/Deedle/ja/csharpframe.html">データフレームの処理</a>
            </li>

            <li class="nav-header">ドキュメント</li>
            <li><a href="/Deedle/ja/../reference/index.html">APIリファレンス(En)</a></li>
            <li class="divider"></li>
            <li><a href="/Deedle/ja/../reference/deedle-seriesmodule.html">Series モジュール</a></li>
            <li><a href="/Deedle/ja/../reference/deedle-framemodule.html">Frame モジュール</a></li>
            <li><a href="/Deedle/ja/../reference/deedle-stats.html">Stats モジュール</a></li>

            <li class="nav-header">サンプル</li>
            <li><a href="/Deedle/ja/lazysource.html">遅延データ読み込み</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/BlueMountainCapital/Deedle"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    <script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-45379232-1', 'bluemountaincapital.github.io');
      ga('send', 'pageview');
    </script>
  </body>
</html>